(window.webpackJsonp=window.webpackJsonp||[]).push([["client-boot"],{"+Sjy":function(e,t,a){"use strict";a.d(t,"h",function(){return v}),a.d(t,"g",function(){return O}),a.d(t,"e",function(){return M}),a.d(t,"f",function(){return S}),a.d(t,"a",function(){return I}),a.d(t,"b",function(){return E}),a.d(t,"c",function(){return y}),a.d(t,"d",function(){return T});var n=a("vJtL"),r=a("Z3Pq"),o=a("peh1"),i=a("IniL"),s=a("s4P+"),c=a("ayyL"),d=a("D6w7"),l=a("v3s2"),u=a("CnUw"),_=a("4c9C"),m=a("v5z3"),b=a("kcos"),p=a("iPQX"),h=[{path:"composer",id:"Pcomposer",isEnabled:e=>Object(l.a)(e),isExcludedFromSearch:()=>!0},{path:"drafts",id:"Pdrafts",isEnabled:e=>Object(l.a)(e)},{path:"example",id:"Pexample",isEnabled:e=>Object(i.k)(e,"feature_pages_example")},{path:"home",id:"Phome",isEnabled:e=>Object(d.e)(e)},{path:"unreads",id:"Punreads"},{path:"learning-slack",id:"Pwelcome",isEnabled:e=>Object(c.y)(e)},{path:"my-tasks",id:"Ptasks"},{path:"apps",id:"Papps"},{path:"activity-page",id:"Pactivity"},{path:"saved-page",id:"Psaved"},{path:"browse-files",id:"Pbrowse-files"},{path:"browse-people",id:"Pbrowse-people"},{path:"browse-channels",id:"Pbrowse-channels"},{path:"browse-user-groups",id:"Pbrowse-user-groups"},{path:"paid-benefits",id:"Ppaid-benefits",isEnabled:e=>Object(u.b)(e)},{path:m.e.TeamName,id:m.d.TeamName,isEnabled:e=>Object(_.m)(e)},{path:m.e.Channels,id:m.d.Channels,isEnabled:e=>Object(_.m)(e)&&!Object(_.l)(e)},{path:m.e.Invites,id:m.d.Invites,isEnabled:e=>Object(_.m)(e)},{path:m.e.StartFirstConversation,id:m.d.StartFirstConversation,isEnabled:e=>Object(_.l)(e)},{path:"all-dms",id:"Pdms",isEnabled:e=>Object(b.e)(e)},{path:"search",id:"Psearch",isEnabled:e=>Object(p.a)(e)}],f=Object(r.a)(h,"id"),g=Object(r.a)(h,"path");g.unreads.id;function v(e){return!!g[e]}function O(e){return!!f[e]}function M(e,t){return!!t&&(Object(n.a)(t.isEnabled)?!!t.isEnabled(e):void 0===t.isEnabled||(Object(s.b)().error("PAGES","Page "+t.id+" has an invalid isEnabled property - it needs to either be a function or undefined"),!1))}function S(e,t){return M(e,y(t))}function I(){return h}var E=Object(o.createSelector)(I().map(e=>t=>M(t,e)),function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return I().filter((e,a)=>t[a])});function y(e){return f[e]}function T(e){return g[e]}},"+cPl":function(e,t,a){"use strict";a.d(t,"e",function(){return b}),a.d(t,"a",function(){return p}),a.d(t,"f",function(){return g}),a.d(t,"b",function(){return v}),a.d(t,"d",function(){return O}),a.d(t,"c",function(){return M});var n=a("zLVn"),r=a("7EGn"),o=a("4Z3G"),i=a("aK/h"),s=a("2XU3"),c=a("UjNr"),d=a("s4P+"),l=a("QOs+"),u=a("6jsb"),_=a("IniL"),m=a("5v1V"),b=Object(l.a)("Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first",function(e,t){var{pref:a,value:n=null,reason:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(Object(s.b)({method:"team.prefs.set",args:{prefs:JSON.stringify({[a]:n})},reason:r})).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the pref "'+a+'"'),e})});b.meta={name:"setTeamPref",key:"fetchersPrefsApiSetTeamPref",description:"Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first"},b.propTypes={pref:i.default.string.isRequired,value:i.default.any,reason:i.default.string};var p=Object(l.a)("Set multiple team prefs via the setPref API",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={method:"team.prefs.set",args:{prefs:JSON.stringify(a)},reason:"prefs-api/setMultipleTeamPrefsByApi"};return e(Object(s.b)(n)).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the prefs "'+Object.keys(a).join(", ")+'"'),e})});p.meta={name:"setMultipleTeamPrefs",key:"fetchersPrefsApiSetMultipleTeamPrefs",description:"Set multiple team prefs via the setPref API"},p.propTypes={prefs:i.default.object};var h=Object(l.a)("Get one or more named user prefs via API",function(e,t){var{prefs:a=[],reason:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.length?e(Object(s.b)({method:"users.prefs.get",args:{prefs:a.join(",")},reason:n})).then(e=>e.prefs).catch(()=>{Object(d.a)({getState:t}).error("PREFS","user.prefs.get failed to fetch the prefs",a)}):o.a.reject(new Error("No prefs were passed to getUserPrefsByApi."))});h.meta={name:"getUserPrefsByApi",key:"fetchersPrefsApiGetUserPrefsByApi",description:"Get one or more named user prefs via API"},h.propTypes={prefs:i.default.array.isRequired,reason:i.default.string.isRequired};var f=Object(u.c)("Trigger pref_change events for each of the preferences in the given payload",(e,t,a)=>{Object.keys(a).forEach(t=>{e(Object(m.c)({type:"pref_change",name:t,value:a[t]}))})});f.meta={name:"triggerDegradedModePrefChangeEvents",key:"fetchersPrefsApiTriggerDegradedModePrefChangeEvents",description:"Trigger pref_change events for each of the preferences in the given payload"},f.propTypes=i.default.object.isRequired;var g=Object(l.a)("Set a pref via the setPref API, updating local prefs optimistically first",function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pref:o,value:i}=r,l=Object(n.a)(r,["pref","value"]),u=t(),m={method:"users.prefs.set",args:Object.assign({name:o,value:i},l),reason:null!==(a=l.reason)&&void 0!==a?a:"prefs-api/setUserPrefByApi"};return Object(_.k)(u,"feature_offline_mode")?e(Object(c.a)(m)).tap(()=>{e(f({[o]:i}))}):e(Object(s.b)(m)).tap(()=>{e(f({[o]:i}))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'users.prefs.set failed to update the pref "'+o+'"'),e})});g.meta={name:"setUserPref",key:"fetchersPrefsApiSetUserPref",description:"Set a pref via the setPref API, updating local prefs optimistically first"},g.propTypes={pref:i.default.string.isRequired,value:i.default.any};var v=Object(l.a)("Set multiple prefs via the setPref API",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t(),r={method:"users.prefs.set",args:{prefs:JSON.stringify(a)},reason:"prefs-api/setMultipleUserPrefsByApi"};return Object(_.k)(n,"feature_offline_mode")?e(Object(c.a)(r)).tap(()=>e(f(a))):e(Object(s.b)(r)).tap(()=>{e(f(a))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'users.prefs.set failed to update the prefs "'+Object.keys(a).join(", ")+'"'),e})});v.meta={name:"setMultipleUserPrefs",key:"fetchersPrefsApiSetMultipleUserPrefs",description:"Set multiple prefs via the setPref API"},v.propTypes={prefs:i.default.object};var O=Object(l.a)("Set a global notification pref via the users.prefs.setNotifications API",function(e,t){var{name:a,value:n,sync:o=!1,reason:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=t(),u={method:"users.prefs.setNotifications",args:{name:a,value:n,global:!0,sync:o},reason:i};return Object(_.k)(l,"feature_offline_mode")?e(Object(c.a)(u)).tap(()=>{"global_keywords"===a&&e(f({highlight_words:n}))}):e(Object(s.b)(u)).tap(t=>{t&&t.all_notifications_prefs&&(e(f({all_notifications_prefs:JSON.stringify(t.all_notifications_prefs)})),"global_keywords"===a&&Object(r.a)(t.all_notifications_prefs,"global.global_keywords")&&e(f({highlight_words:t.all_notifications_prefs.global.global_keywords})))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'users.prefs.setNotifications failed to update the pref "'+a+'"'),e})});O.meta={name:"setNotificationsGlobalPref",key:"fetchersPrefsApiSetNotificationsGlobalPref",description:"Set a global notification pref via the users.prefs.setNotifications API"},O.propTypes={name:i.default.oneOf(["global_mobile","global_mpdm_mobile","global_desktop","global_mpdm_desktop","global_keywords","mobile_sound","desktop_sound","no_text_in_notifications","push_show_preview","push_idle_wait","threads_everything"]).isRequired,value:i.default.oneOfType([i.default.string,i.default.number,i.default.bool]).isRequired,sync:i.default.bool,reason:i.default.string};var M=Object(l.a)("Calls users.prefs.setNotifications endpoint",(e,t,a)=>{var{name:n,value:r,channelId:o,sync:i=!1,reason:d="users-prefs-set-notifications"}=a,l={method:"users.prefs.setNotifications",args:{name:n,value:r,channel_id:o,global:!1,sync:i},reason:d};return Object(_.k)(t(),"feature_offline_mode")?e(Object(c.a)(l)):e(Object(s.b)(l))});M.meta={name:"setNotificationsChannelOverride",key:"fetchersPrefsApiSetNotificationsChannelOverride",description:"Calls users.prefs.setNotifications endpoint"},M.propTypes={name:i.default.string.isRequired,value:i.default.any.isRequired,channelId:i.default.string.isRequired,sync:i.default.bool,reason:i.default.string}},"0QyR":function(e,t,a){"use strict";a.d(t,"b",function(){return Z}),a.d(t,"a",function(){return z});var n=a("zLVn"),r=a("9oTK"),o=a("fujP"),i=a("3Hq1"),s=a("CpTu"),c=a("owWc"),d=a("4Z3G"),l=a("1PKr"),u=a("Omjo"),_=a("Lg4S"),m=a("HDs8"),b=a("0oUp"),p=a("VL9c"),h=a("1j8a"),f=15e3,g=null,v=null,O=0,M=10,S=1e3;function I(){return v||(v=function e(){return Object(b.a)().catch(()=>O>M?d.a.reject(new Error("boot_exceeded_maximum_network_retries")):new d.a(t=>{clearTimeout(g),g=setTimeout(()=>{O+=1,t(e())},S)}))}().finally(()=>{clearTimeout(g),g=null,v=null})),v}function E(){var e,{maxTimePausedMs:t=f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={online:!0},n=()=>{a.online=!1,e=window.setTimeout(()=>{throw new Error("Boot queue paused for too long")},t)},r=()=>{a.online=!0,window.clearTimeout(e),e=void 0},o={apiQ:new m.a({isOnline:()=>a.online,reconnectClient:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),I().then(t).catch(()=>{throw new h.a("Could not complete boot due to loss of network connectivity",{name:"BootNetworkConnectionError"})})})({setOffline:n,setOnline:r}),reconnectService:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),Object(p.a)().then(t).catch(()=>{throw new h.a("Could not complete boot due to loss of API service",{name:"BootApiConnectionError"})})})({setOffline:n,setOnline:r})}),q:function(){return o.apiQ&&o.apiQ.q(...arguments)},stop:()=>{o.apiQ.stop(),o.apiQ.clearStatsInterval(),delete o.apiQ,o.apiQ=void 0,window.clearTimeout(e),e=void 0}};return o}var y=a("Gogr"),T=a("VHGx"),w=1e3;var j=3456e5;var A=a("IbTH"),F=a("tYiI"),D=a("HLHh"),k=a("4ULK"),C=a("nOCT"),R=a("s4P+"),N=a("UioL");function Y(){return(Y=Object(r.coroutine)(function*(){var e,t,{teamId:a,userId:n,forceAPI:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object(R.a)({teamId:a});if(r)return i.info("BOOT","Skipping persisted store if it exists because we're forcing fresh data fetch anyway"),!1;if(function(e){var t=Object(R.a)({teamId:e}),a=Object(C.c)(),n=Object(y.e)(e,"versionDataTs");return t.info("BOOT","Minimum supported data version is "+a+"; currently on "+n),!n||n<a}(a))return i.info("BOOT","Skipping checking persisted store because if it exists it's out of date"),Object(k.a)(a),!1;if(!Object(D.a)())return i.info("BOOT","indexedDB is unavailable, not checking for a persisted store"),!1;try{e=yield Object(N.a)({teamId:a,userId:n})}catch(s){return i.error("BOOT","Unable to get get stored state from IndexedDB",s),!1}return!(t=e)||Object(o.a)(t.bootData)?(i.info("BOOT","Unable to find stored state"),!1):e})).apply(this,arguments)}var P=a("btH0"),L=a("Pw4T"),x=a("fitI"),B=a("jr0b"),U=a("+Sjy"),W=a("Yd+W"),G=a("L6kU"),H=Object.assign({},G.a,{feature_classic_nav:!0,feature_modern_sounds:!0,feature_offline_mode:!0,feature_sonic_placeholder_labels:!0,feature_modern_profile_flexpane:!0,feature_sonic_pins:!0,feature_sonic_user_groups:!0,feature_unified_member:!0,feature_modern_request_workspace_dialog:!0,feature_sonic_leave_workspace_dialog:!0,feature_m11n_channel_details:!0,feature_sonic_esc_creation:!0}),V=e=>!(!e||!e.is_im),K=e=>!(!e||!e.is_mpim),q=e=>V(e)&&e.user,Q=e=>K(e)&&e.members;function z(){return X.apply(this,arguments)}function X(){return(X=Object(r.coroutine)(function*(){var e,t,{teamId:a,teamToken:n,userId:r,shouldSetFocus:o,routeInfo:i=null,forceAPI:c=!1,bootQueue:l=E(),bootedOffline:m,reason:b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=yield function(){return Y.apply(this,arguments)}({teamId:a,userId:r,forceAPI:c}),h=!!p;if(h&&((t=Object(y.c)("lastColdBootTs"))&&Date.now()-t>j)&&!m&&(yield T.b.fetch({url:"/api/api.test",timeout:w}).then(e=>{var{ok:t}=JSON.parse(e);return!0===t}).catch(e=>(Object(u.a)(e),!1)))&&(h=!1,Object(L.a)().count("sonic_boot_data_fetch_ignoring_persisted_cache")),h)return Object(u.b)("BOOT","("+a+") Booting with persisted store"),{isWarmBooting:!0,bootData:p};l.apiQ.assignApiCallThreshold(Object(_.c)(o));var f=[ae({bootQueue:l,token:n,teamId:a,reason:b,userId:r}),Object(A.f)({bootQueue:l,overrides:H,shouldFetchCached:!0,teamId:a,token:n}),Object(A.e)({bootQueue:l,shouldFetchCached:!0,teamId:a,token:n,userId:r})],g=i&&i.params&&i.params.entityId;!g||Object(P.a)(g)||Object(U.h)(g)||Object(F.a)(g)?Object(P.a)(g)||Object(U.h)(g)||Object(F.a)(g)||(Object(u.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),f.push(J({bootQueue:l,token:n,teamId:a}))):(Object(u.b)("BOOT","Booting into channel: "+g),f.push(J({bootQueue:l,token:n,teamId:a,id:g})));var[v,O,M,S]=yield d.a.all(f),{appHomesData:I,selfData:D,teamData:k,teamPrefsData:C,userPrefsData:R,userGroupMembershipData:N,channelsData:x,membersToFetch:B,paidFeatures:G,emojiBootData:V,slashCommandsBootData:K,acceptTosUrl:q,channelsPrefsData:Q,isEurope:z,domainsBootData:X}=v,Z=(null==R?void 0:R.onboarding_state)>0,$=!!(null==O?void 0:O.feature_shared_channels_content),ee=!!(null==O?void 0:O.feature_composer_email_classification),te=!!(null==k?void 0:k.enterprise_id),ne=null==C?void 0:null===(e=C.who_can_manage_ext_shared_channels)||void 0===e?void 0:e.type,re=!0;ne&&ne.length>0&&(re="NO_ONE"===ne[0]);var oe=!(null==D?void 0:D.is_restricted)&&!(null==D?void 0:D.is_ultra_restricted)&&!re,ie=!1,se=!1,ce=null,de=null,le=null,ue=null;if(R&&!R.onboarding_complete&&!Z){var _e,me,be;if(null===(_e=le=yield Object(A.h)({bootQueue:l,token:n,teamId:a}))||void 0===_e?void 0:_e.tractorEnabled){var pe=yield Object(A.l)({bootQueue:l,token:n,teamId:a});ce=Object(s.a)(pe,e=>"account_setup"===e.type&&"team_creation"===e.subtype);var he=Math.min(...pe.map(e=>e.date_start).filter(e=>e>0));ie=pe.length>0&&pe.filter(e=>e.state===W.e.Completed).length<pe.length&&(!he||he>Math.floor((Date.now()-6e5)/1e3))}else if("none"!==(null===(me=le)||void 0===me?void 0:me.welcomePlaceState)){var fe;"enabled"!==(null===(fe=le)||void 0===fe?void 0:fe.welcomePlaceState)||R.newxp_seen_help_message||(se=!0)}else R.seen_welcome_2||(se=!0);"enabled"===(null===(be=le)||void 0===be?void 0:be.welcomePlaceState)&&(de=yield Object(A.m)({bootQueue:l,token:n,teamId:a}))}(ee||$&&!te&&oe)&&(ue=yield Object(A.g)({bootQueue:l,token:n,teamId:a}));var ge,ve,Oe=document.documentElement,Me={app:"client",api_token:n,user_id:D&&D.id,version_ts:Oe&&Oe.dataset?Oe.dataset.versionTs:"unknown",version_uid:Oe&&Oe.dataset?Oe.dataset.versionHash:"unknown",shouldStartCreatorOnboarding:ie,shouldStartJoinerOnboarding:se,teamCreationWorkflow:ce,welcomePlaceOnboardingData:de,acceptTosUrl:q,isEurope:z,onboardingData:le,labFeaturesStartupData:ue};if(Me.should_reload=v.should_reload,Me.client_min_version=v.client_min_version,v.should_reload)return{bootData:{miscBootData:Me}};if(D&&D.enterprise_user){var Se=Object(y.e)(a,"enterprise_api_token"),[{enterprise:Ie}={},Ee]=yield d.a.all([Object(A.c)({bootQueue:l,token:n,teamId:a}),Object(A.d)({bootQueue:l,token:Se,teamId:a})]);Me.enterprise_id=D.enterprise_user.enterprise_id,Me.page_needs_enterprise=!0,Me.enterprise_api_token=Se,ge=Ie,ve=Ee}if(S&&S.channelData){var ye=x.findIndex(e=>e&&e.id===S.channelData.id);if(-1!==ye){var Te=Object.assign({},x[ye],{},S.channelData);x.splice(ye,1,Te)}}return l.stop(),{isWarmBooting:!1,bootData:{appHomesData:I,channelsData:x,membersToFetch:B,teamData:k,viewData:S||null,selfData:D,featureFlagData:O,experimentsData:M,miscBootData:Me,userPrefsData:R,teamPrefsData:C,userGroupMembershipData:N,enterpriseData:ge,enterprisePrefsData:ve,paidFeatures:G,emojiBootData:V,slashCommandsBootData:K,channelsPrefsData:Q,domainsBootData:X}}})).apply(this,arguments)}function J(e){var{bootQueue:t,token:a,teamId:n,id:r=null}=e,o={token:a,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,no_members:!0,count:28};r&&(o.channel=r);var i=new l.b({method:"conversations.view",args:o,teamId:n});return t.q(i).then(e=>{var t=e.history.messages,a=e.channel||e.group||e.im,n=a&&a.id,r=e.history.channel_actions_count,o=Number.isInteger(r)?{channelId:n,count:r}:null;return{channelData:a,messagesData:{msgs:t,channelId:n,latest:t.length>0?t[0].ts:null,oldest:t.length>0?t[t.length-1].ts:null,hasMore:{hasMoreEnd:!1,hasMoreStart:e.history.has_more},isLimited:e.history.is_limited},membersData:e.users,botsData:e.bots,channelActionsData:o}}).catch(e=>(Object(R.b)().error("BOOT","unable to fetch/format messages data",e),null))}function Z(e){var{team:t,links:a,subteams:r,self:o,prefs:s,app_homes:d,paid_features:l,emoji_cache_ts:u,commands_cache_ts:_,can_manage_shared_channels:m,accept_tos_url:b,channels_prefs:p,should_reload:h,client_min_version:f,is_europe:g}=e,v=Object(n.a)(e,["team","links","subteams","self","prefs","app_homes","paid_features","emoji_cache_ts","commands_cache_ts","can_manage_shared_channels","accept_tos_url","channels_prefs","should_reload","client_min_version","is_europe"]),O={};if(!Object(i.a)(h)&&(O.should_reload=h,O.client_min_version=f,h))return O;var M,S=Object.assign({},t.prefs,{can_user_manage_shared_channels:m}),I=[...r.self],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[...e.channels||[],...e.ims||[],...e.mpims||[]],a=[];if(t.length)for(var{last_read:n={},channels_priority:r={},starred:o=[],is_open:i=[],thread_only_channels:s=[],read_only_channels:c=[]}=e,d=new Set(o),l=new Set(i),u=new Set(s),_=new Set(c),m=t.length,b=0;b<m;b++){var p=t[b],h=p.id;p.latest="0000000000.000000",p.is_member=!0,p.last_read=n[h],p.priority=r[h],p.is_starred=d.has(h),V(p)||K(p)?p.is_open=l.has(h):(p.is_thread_only=u.has(h),p.is_read_only=_.has(h)),a.push(p)}return a}(Object.assign({},v,{teamId:t.id})),y=(e.ims||[]).map(e=>q(e)),T=(M=e.mpims)?Object(c.a)(M,(e,t)=>{if(!t)return e;var a=Q(t)||[];return e.push(...a),e},[]):[],w=y.concat(T).filter((e,t,a)=>a.indexOf(e)===t),j={cacheTs:u},A={cacheTs:_};return O=Object.assign({},O,{selfData:o,teamData:t,teamPrefsData:S,userPrefsData:s,channelsData:E,appHomesData:d,membersToFetch:w,userGroupMembershipData:I,paidFeatures:l,emojiBootData:j,slashCommandsBootData:A,acceptTosUrl:b,channelsPrefsData:p,isEurope:g,domainsBootData:a})}var $="cse-api",ee="cse-boot-api",te=1;function ae(e){var{bootQueue:t,token:a,teamId:n,reason:r,userId:i}=e;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(x.a)(),n=a.createTrace({traceName:$,tags:t,sampleRate:te});if(!n||!n.traceFn)return Object(R.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),e();return n.traceFn({name:ee,onError:(e,t)=>{var r={state:B.a.ERROR};t.status&&(r.status=t.status);t.message&&(r.message=t.message);t.data&&t.data.error&&(r.reason=t.data.error);e.addTags(r),e.close(),a.reportTrace(n)},onResolve:(e,t)=>{if(Object(o.a)(t)){var r={state:B.a.SUCCESS,message:"client_boot_empty"};e.addTags(r),e.close(),a.reportTrace(n)}else a.clearTrace(n)}},e)}(A.b.bind(this,{bootQueue:t,token:a,teamId:n,reason:r}),{teamId:n,userId:i,reason:r}).then(Z)}},"0akA":function(e,t,a){"use strict";var n=a("pxl7");t.a=function(e,t){return Object(n.a)(e,t,{units:"seconds"})}},"1zgd":function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("rWF5"),r=a("Yd+W"),o=e=>(e.subtype!==r.f.EnableNotifications||!Object(n.l)())&&!(e.subtype===r.f.DownloadDesktopApp&&!Object(n.j)())},"38Hg":function(e,t,a){"use strict";var n=a("pxl7");t.a=function(e,t){return Object(n.a)(e,t,{units:"days"})}},"3kjJ":function(e,t,a){"use strict";var n=a("XxnT"),r=a("HBMi");t.a=function(e,t){var a=Object(r.a)(e,{returnMoment:!0}),o=Object(r.a)(t,{returnMoment:!0});return Object(n.a)(a).isSame(o,"day")}},"4B0G":function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"b",function(){return i}),a.d(t,"d",function(){return n}),a.d(t,"a",function(){return o}),a.d(t,"e",function(){return r});var n={CANADA:"Canada",JAPAN:"Japan",MALAYSIA:"Malaysia",RUSSIAN_FEDERATION:"Russian Federation",SINGAPORE:"Singapore",SOUTH_AFRICA:"South Africa",SOUTH_KOREA:"Republic of Korea",SWITZERLAND:"Switzerland",UNITED_KINGDOM:"United Kingdom",UNITED_KINGDOM_UK:"United Kingdom (UK)",UNITED_STATES:"United States"},r={COMPANY_NAME_IS_REQUIRED:"company_name_is_required",STREET_IS_REQUIRED:"street_is_required",CITY_IS_REQUIRED:"city_is_required",POSTAL_CODE_IS_REQUIRED:"postal_code_is_required",ZIP_CODE_IS_REQUIRED:"zip_code_is_required",REGION_IS_REQUIRED:"region_is_required",STATE_IS_REQUIRED:"state_is_required",COUNTRY_IS_REQUIRED:"country_is_required",VAT_ID_IS_REQUIRED:"vat_id_is_required",TIN_ID_IS_REQUIRED:"tin_id_is_required",BRN_IS_REQUIRED:"brn_is_required",IS_BUSINESS_PURCHASE_IS_REQUIRED:"is_business_purchase_is_required",STREET_INVALID_CHARACTERS:"street_invalid_characters",CITY_INVALID_CHARACTERS:"city_invalid_characters",REGION_INVALID_CHARACTERS:"region_invalid_characters",STATE_INVALID_CHARACTERS:"state_invalid_characters",POSTAL_CODE_INVALID_CHARACTERS:"postal_code_invalid_characters",ZIP_CODE_INVALID_CHARACTERS:"zip_code_invalid_characters",ABN_ID_INVALID_CHARACTERS:"abn_id_invalid_characters",US_ZIP_CODE_INVALID_FORMAT:"us_zip_code_invalid_format",CANADA_POSTAL_CODE_INVALID_FORMAT:"canada_zip_code_invalid_format",ZIP_CODE_INVALID_API_ERROR:"zipcode_invalid_api_error",VAT_ID_INVALID_API_ERROR:"vat_id_invalid_api_error",VAT_ID_INPUT_ERROR:"vat_input_error",VAT_ID_INVALID_FORMAT:"vat_id_invalid_format",API_ERROR:"api_error",ABN_ID_INVALID_LENGTH:"abn_id_invalid_length",QST_ID_INVALID_FORMAT:"qst_id_invalid_format",TIN_ID_INVALID_LENGTH:"tin_id_invalid_length",BRN_INVALID_FORMAT:"brn_invalid_format",ADDRESS_INPUT_ERROR:"address_input_error",ERROR_UPDATING_BILLING_ADDRESS:"error_updating_billing_address",NO_PERMS:"no_perms",INVALID_AUTH:"invalid_auth",DEFAULT_ERROR:"default_error"},o={ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX:/^[a-zA-Z\xc0-\xff0-9-'-/.\s]+$/i,ALPHA_NUMERIC_WITH_DASH_REGEX:/^[A-Z0-9-\-\s]+$/i,ABN_ID_REGEX:/^(\d *?){11}$/i,QST_ID_TQ_REGEX:/^([0-9]){10}TQ([0-9]){4}$/i,QST_ID_NINE_NUM_REGEX:/^([0-9]){9}$/i,QST_ID_TEN_NUM_REGEX:/^([0-9]){10}$/i,QST_ID_NR_REGEX:/^NR([0-9]){8}$/i,US_POSTAL_CODE_FORMAT_REGEX:/(^\d{5}$)|(^\d{5}-{0,1}\d{4}$)/i,CANADA_POSTAL_CODE_FORMAT_REGEX:/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1} *\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1}\d{1}$/i},i={COMPANY_NAME:"companyName",STREET:"street",SUITE:"suite",CITY:"city",REGION:"region",POSTAL_CODE:"postalCode",COUNTRY:"country",IS_BUSINESS_PURCHASE:"isBusinessPurchase",IS_VAT_AVAILABLE:"isVatIdAvailable",VAT_ID:"vatId",ABN_ID:"abnId",QST_ID:"qstId"},s={COMPANY_NAME:"",STREET:"",SUITE:"",CITY:"",REGION:"",POSTAL_CODE:"",COUNTRY:"",IS_BUSINESS_PURCHASE:!0,IS_VAT_AVAILABLE:!0,VAT_ID:"",ABN_ID:"",QST_ID:""}},"4Kys":function(e,t,a){"use strict";var n=a("HBMi");t.a=function(e){var{shortenDay:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.a)(e,{returnMoment:!0});if(!a.isValid())throw new Error("We couldn't create a date object in toDayOfTheWeek()");return t?a.format("ddd"):a.format("dddd")}},"4c9C":function(e,t,a){"use strict";a.d(t,"b",function(){return T}),a.d(t,"n",function(){return w}),a.d(t,"o",function(){return j}),a.d(t,"m",function(){return A}),a.d(t,"j",function(){return F}),a.d(t,"l",function(){return D}),a.d(t,"k",function(){return k}),a.d(t,"a",function(){return C}),a.d(t,"i",function(){return R}),a.d(t,"d",function(){return N}),a.d(t,"c",function(){return Y}),a.d(t,"g",function(){return P}),a.d(t,"h",function(){return L}),a.d(t,"e",function(){return x}),a.d(t,"f",function(){return B});var n=a("4Z3G"),r=a("aK/h"),o=a("zgq7"),i=a("6jsb"),s=a("oTSI"),c=53,d=new Map,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=d.get(t);a||(a=new Map,d.set(t,a));var n=a.get(e);return n||(n=Symbol(e),a.set(e,n)),n};function u(e){for(var t=new Array(c),a=e,n=0,r=0;a>0;r++)n=a%2,t[r]=!!n,a=(a-n)/2;return t}function _(e){for(var t=0,a=1,n=0;n<c;n++)t+=(e[n]?1:0)*a,a*=2;return t}var m=Object(s.a)((e,t)=>{for(var a=u(e),n=u(t),r=new Array(c),o=0;o<c;o++)r[o]=a[o]&&n[o];return _(r)},l),b=Object(s.a)((e,t)=>{for(var a=u(e),n=u(t),r=new Array(c),o=0;o<c;o++)r[o]=a[o]||n[o];return _(r)},l),p=Object(s.a)(e=>{for(var t=new Array(c),a=e,n=0,r=0;r<c;r++)n=a%2,t[r]=!n,a=(a-n)/2;return _(t)}),h=Object.freeze([...Array(c).keys()].reduce((e,t)=>(e["MASK_"+(t+1)]=2**t,e),{})),f=a("IniL"),g=a("XL7r"),v=a("s0HP"),O=a("+cPl"),M=a("yhG8"),S=a("s4P+"),I=a("quKg"),E=e=>Object(g.m)(e,"onboarding_state")||0,y=e=>{switch(e){case"setup_started":return h.MASK_1;case"setup_completed":return h.MASK_2;case"setup_step_channels":return h.MASK_3;case"setup_step_invites":return h.MASK_4;case"setup_channel_header_shown":return h.MASK_5;case"setup_invite_step_skipped":return h.MASK_30;case"welcome_task_1_complete":return h.MASK_6;case"welcome_task_2_complete":return h.MASK_7;case"welcome_task_3_complete":return h.MASK_28;case"welcome_task_4_complete":return h.MASK_29;case"welcome_task_complete":return h.MASK_8;case"announcements_task_1_complete":return h.MASK_9;case"announcements_task_2_complete":return h.MASK_10;case"announcements_task_complete":return h.MASK_11;case"project_task_1_complete":return h.MASK_12;case"project_task_2_complete":return h.MASK_13;case"project_task_complete":return h.MASK_14;case"brainstorming_task_1_complete":return h.MASK_15;case"brainstorming_task_2_complete":return h.MASK_16;case"brainstorming_task_complete":return h.MASK_17;case"sync_task_1_complete":return h.MASK_18;case"sync_task_2_complete":return h.MASK_19;case"sync_task_complete":return h.MASK_20;case"team_task_1_complete":return h.MASK_21;case"team_task_2_complete":return h.MASK_22;case"team_task_complete":return h.MASK_23;case"dm_task_1_complete":return h.MASK_24;case"dm_task_2_complete":return h.MASK_25;case"dm_task_complete":return h.MASK_26;case"onboarding_completed":return h.MASK_27;case"people_task_complete":return h.MASK_31;case"files_task_complete":return h.MASK_32;case"generic_task_complete":return h.MASK_33;case"generic_task_1_complete":return h.MASK_34;case"generic_task_2_complete":return h.MASK_35;case"generic_task_3_complete":return h.MASK_36;case"apps_task_1_complete":return h.MASK_37;case"apps_task_complete":return h.MASK_38;case"project_add_cta_complete":return h.MASK_39;case"general_add_cta_complete":return h.MASK_40;case"random_add_cta_complete":return h.MASK_41;case"generic_add_cta_complete":return h.MASK_42;case"general_task_complete":return h.MASK_43;case"random_task_complete":return h.MASK_44;case"mpdm_task_complete":return h.MASK_45;case"self_dm_task_complete":return h.MASK_46;case"message_input_cta_complete":return h.MASK_47;case"setup_step_convo":return h.MASK_48;case"setup_send_message_step_complete":return h.MASK_49;case"setup_channel_coachmark_complete":return h.MASK_50;case"setup_channel_foreword_complete":return h.MASK_51;case"joiner_message_suggestion_complete":return h.MASK_52;default:return 0}},T=Object(o.b)((e,t)=>{var a=y(t),n=E(e);return!!m(n,a)});T.meta={name:"getUserOnboardingPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetUserOnboardingPref"};var w=Object(i.c)("Set onboarding state pref from push event",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=E(t());e(Object(v.b)({pref:"onboarding_state",value:b(n,a)}))});w.meta={name:"setOnboardingStatePref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetOnboardingStatePref",description:"Set onboarding state pref from push event"},w.propTypes=r.default.number;var j=Object(i.c)("Set a derived boolean pref via the setPref API, updating local prefs optimistically first",function(e,t){var{pref:a,value:r,retry:o=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o>2)return n.a.resolve();var i=((e,t,a)=>{var n=y(t),r=E(e);return a?b(r,n):m(r,p(n))})(t(),a,r),s={pref:"onboarding_state",value:i},c=Object(S.a)({getState:t,label:"USER_ONBOARDING"});return c.info("Applied "+a+": "+!!r+" to onboarding_state: "+i),o&&c.error("Applied "+a+": "+!!r+" to onboarding_state: "+i+", retry "+o),e(Object(v.b)(s)),e(Object(O.f)(s)).catch(()=>e(j({pref:a,value:r,retry:o+1})))});j.meta={name:"setUserOnboardingPrefByApi",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetUserOnboardingPrefByApi",description:"Set a derived boolean pref via the setPref API, updating local prefs optimistically first"},j.propTypes={pref:r.default.string.isRequired,value:r.default.any};var A=Object(o.b)(e=>T(e,"setup_started")&&!T(e,"onboarding_completed"));A.meta={name:"inUserOnboardingExperiment",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingExperiment"};var F=Object(o.b)(e=>T(e,"setup_started"));F.meta={name:"hasUserOnboardingExperimentUI",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasUserOnboardingExperimentUI"};var D=Object(o.b)(e=>T(e,"setup_started")&&"treatment"===Object(I.c)(e,"day1_convo",!1)&&Object(f.k)(e,"feature_day1_convo"));D.meta={name:"inUserOnboardingConvoExperiment",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingConvoExperiment"};var k=Object(o.b)(e=>"treatment"===Object(I.c)(e,"day1_joiner_notifications",!1));k.meta={name:"inJoinerNotificationExperiment",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInJoinerNotificationExperiment"};var C=Object(o.b)((e,t,a)=>{var n,r=[...Object.values(M.e),...Object.values(M.c)];if(t&&r.includes(t)&&(n=t+"_task_complete"),a&&"P"===a[0]){var o={PEOPLE:"Pbrowse-people",FILES:"Pbrowse-files",APPS:"Papps"};switch(a){case o.PEOPLE:n="people_task_complete";break;case o.FILES:n="files_task_complete";break;case o.APPS:n="apps_task_complete";break;default:return!0}}return T(e,n)});C.meta={name:"getChannelBannerPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetChannelBannerPref"};var R=Object(o.b)(e=>["welcome","team","project","brainstorming","announcements","sync","dm","people","files","generic","apps","mpdm","self_dm","general","random"].some(t=>T(e,t+"_task_complete")));R.meta={name:"hasCompletedTask",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedTask"};var N=Object(o.b)((e,t)=>{if(!A(e))return!0;switch(t){case M.c.GENERAL:case M.e.RANDOM:case M.e.PROJECT:case M.e.DM:case M.e.MPDM:case M.e.SELF_DM:return T(e,t+"_task_complete");default:return!0}});N.meta={name:"hasCompletedChannelTasks",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedChannelTasks"};var Y=Object(o.b)((e,t)=>!A(e)||T(e,t+"_add_cta_complete"));Y.meta={name:"hasCompletedChannelAddCta",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedChannelAddCta"};var P=Object(o.b)(e=>!A(e)||T(e,"message_input_cta_complete"));P.meta={name:"hasCompletedMessageInputCta",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedMessageInputCta"};var L=Object(o.b)(e=>!D(e)||T(e,"setup_send_message_step_complete"));L.meta={name:"hasCompletedStartConvoSendMessageStep",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedStartConvoSendMessageStep"};var x=Object(o.b)(e=>!D(e)||T(e,"setup_channel_foreword_complete"));x.meta={name:"hasCompletedFirstChannelForeword",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedFirstChannelForeword"};var B=Object(o.b)(e=>!k(e)||T(e,"joiner_message_suggestion_complete"));B.meta={name:"hasCompletedJoinerNotificationMessageSuggestions",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedJoinerNotificationMessageSuggestions"}},"4v0o":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={allUnreads:"Vall_unreads",allThreads:"Vall_threads",search:"Vsearch"}},"5MVR":function(e,t,a){"use strict";function n(e){var{replacer:t,space:a,fallback:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.stringify(e,t,a)}catch(r){return n}}function r(e){try{return JSON.stringify(e).length}catch(t){return null}}a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r})},"9svP":function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("Jnq/");function r(e,t,a){var r=e*Object(n.a)(t,a,!0);return Math.ceil(e+r)}},"A/mR":function(e,t,a){"use strict";a.d(t,"a",function(){return d.a}),a.d(t,"b",function(){return _.a}),a.d(t,"c",function(){return b.a}),a.d(t,"d",function(){return h.a}),a.d(t,"e",function(){return f.a}),a.d(t,"f",function(){return S.a}),a.d(t,"g",function(){return E.a}),a.d(t,"h",function(){return T.a}),a.d(t,"i",function(){return j.a}),a.d(t,"j",function(){return A.a}),a.d(t,"k",function(){return r.a}),a.d(t,"l",function(){return Y.a}),a.d(t,"m",function(){return C.a}),a.d(t,"n",function(){return P.a}),a.d(t,"o",function(){return B});var n=a("Z7Ay"),r=a("HBMi");var o=function(e,t){return 0!==e&&e?Object(r.a)(e,{returnMoment:!0}).add(t,"days").valueOf()/1e3:0},i=a("DOXe"),s=a("pxl7"),c=a("CnQG"),d=a("38Hg"),l=a("vg2h"),u=a("0akA"),_=a("JoAr");var m=function(e){var{activityCounter:t=0,dayStampFormat:a="YYYY-MM-DD"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.a)(e,{parseFormat:a,returnMoment:!0});if(!n||!n.isValid())throw new Error("Couldn\u2019t create a date object in getActivityDayStamp()");return t>0?n.add(t,"days").format(a):t<0?n.subtract(Math.abs(t),"days").format(a):n.format(a)},b=a("o37S"),p=a("3kjJ"),h=a("rEgV"),f=a("NBUf"),g=a("HxoY"),v=a("hOHP"),O=a("M+5u"),M=a("RgZo"),S=a("dRaa");var I=function(e,t){return 0===Object(s.a)(e,t,{units:"hours"})},E=a("SxvU"),y=a("nc6C"),T=a("WhMD");var w=function(e){var{shortenMonth:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(r.a)(e,{returnMoment:!0});if(!a.isValid())throw new Error("We couldn't create a date object in toCalendarDateIfYesterdayOrToday()");return Object(h.a)(a)||Object(f.a)(a)?Object(T.a)(a,{shortenMonth:t}):""},j=a("tqVr"),A=a("nN8z");var F=function(e){var{units:t="minutes"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.a)(e,{unitsIn:t,unitsOut:"days"})},D=a("4Kys");var k=function(e){var{do24hrTime:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(r.a)(e,{returnMoment:!0});if(!a.isValid())throw new Error("Couldn't create a date object in toFilenameFriendlyDate()");return t?a.format("YYYY_MM_DD HH_mm"):a.format("YYYY_MM_DD hh_mm A")},C=a("rsVu");var R=function(e){var{do24hrTime:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(r.a)(e,{returnMoment:!0});return t?Object(C.a)(a,{timeFormat:"HH"}):Object(C.a)(a,{timeFormat:"h A"})};var N=function(e){var{units:t="minutes"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.a)(e,{unitsIn:t,unitsOut:"hours"})},Y=a("lB1i"),P=a("hwN2"),L=a("bBbA"),x=a("XxnT");var B=function(e){var{units:t="seconds"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(L.a)(e,{units:t}),n=[];return a.w&&(1===a.w&&n.push(x.a.localeData().relativeTime(a.w,!1,"w",!1)),a.w>1&&n.push(x.a.localeData().relativeTime(a.w,!1,"ww",!1))),a.d&&(1===a.d&&n.push(x.a.localeData().relativeTime(a.d,!1,"d",!1)),a.d>1&&n.push(x.a.localeData().relativeTime(a.d,!1,"dd",!1))),a.h&&(1===a.h&&n.push(x.a.localeData().relativeTime(a.h,!1,"h",!1)),a.h>1&&n.push(x.a.localeData().relativeTime(a.h,!1,"hh",!1))),a.m&&n.push(x.a.localeData().relativeTime(a.m,!1,"m",!1)),!a.s&&n.length||n.push(x.a.localeData().relativeTime(a.s,!1,"s",!1)),n.join(" ")};var U=function(e){var{units:t="minutes"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.a)(e,{unitsIn:t,unitsOut:"weeks"})},W=function(e){var t,{currentTime:a=Object(x.a)().unix()}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.a)(a,{returnMoment:!0}),o=Object(r.a)(e,{returnMoment:!0});if(o&&n&&(t=Object(l.a)(o,n),t=Math.ceil(t)),t&&"number"==typeof t){if(t<60)return x.a.localeData().timeAgo().compact.min45.replace(/%d/,t.toString());if(t>=60&&t%60==0){var i=t/60;return x.a.localeData().timeAgo().compact.hrs24.replace(/%d/,i.toString())}var s=t%60,c="number"==typeof t&&(t-s)/60,d=x.a.localeData().timeAgo().compact.min45.replace(/%d/,s.toString());return x.a.localeData().timeAgo().compact.hrs24.replace(/%d/,c.toString())+" "+d}};Object(n.a)("datetime",{addDays:o,convertISOtoUTCReadableDate:i.a,countdownToFutureTime:W,dateDifference:s.a,daysToYearsPretty:c.a,distanceInDays:d.a,distanceInMinutes:l.a,distanceInSeconds:u.a,formatDate:_.a,getActivityDayStamp:m,getUnixSeconds:b.a,isSameDay:p.a,isToday:h.a,isYesterday:f.a,makeTsStamp:g.a,maybeGetRelativeDay:v.a,memberLocalTime:O.a,millisecondsToPrettifiedTime:M.a,prettifyDateString:S.a,sameHour:I,shouldExcludeYear:E.a,timeDurationConverter:y.a,toCalendarDate:T.a,toCalendarDateIfYesterdayOrToday:w,toCalendarDateOrNamedDay:j.a,toDate:A.a,toDateObject:r.a,toDayAmount:F,toDayOfTheWeek:D.a,toFilenameFriendlyDate:k,toHour:R,toHourAmount:N,toHumanReadableDateAndTime:Y.a,toTime:C.a,toTimeAgo:P.a,toTimeAmount:L.a,toTimeDuration:B,toWeekAmount:U})},CVDs:function(e,t,a){"use strict";a.d(t,"a",function(){return BaseSocketManager});var n=a("9oTK"),r=a("rePB"),o=a("NFsq"),i=a("f8fv"),s=a("MXQz"),c=a("4Z3G"),d=a("lhZz"),l=a("5UAc"),u=a("s4P+"),_=a("cewN"),m=a("eK5+"),b=a("Pw4T"),p=a("WQtW"),h=a("BCd4"),f=a("6TBL"),g=a("bbP7"),v=a("8Az7");class BaseSocketManager{constructor(e){if(this._token=e,Object(r.a)(this,"_teamId",void 0),Object(r.a)(this,"_logger",void 0),Object(r.a)(this,"_telemeter",void 0),Object(r.a)(this,"_connectFailureCount",0),Object(r.a)(this,"_connectStartTs",void 0),Object(r.a)(this,"_firstConnectFailureTs",void 0),Object(r.a)(this,"_didDispatchTroubleConnecting",!1),Object(r.a)(this,"_didCountTroubleConnecting",!1),Object(r.a)(this,"_currentState",g.a.NEVER_CONNECTED),Object(r.a)(this,"_debugSocketConnectFlakiness",0),Object(r.a)(this,"_debugSocketSendFlakiness",0),Object(r.a)(this,"_fastReconnectsEnabled",!0),Object(r.a)(this,"_fastReconnectUrl",void 0),Object(r.a)(this,"_fastReconnectUrlReceivedAtTime",void 0),Object(r.a)(this,"_backoffMs",0),Object(r.a)(this,"_socket",void 0),Object(r.a)(this,"_stuckStateTimer",void 0),Object(r.a)(this,"_waitForConnectivityP",void 0),Object(r.a)(this,"_waitForRateLimitTimer",void 0),Object(r.a)(this,"_waitingForRateLimitActionInterval",void 0),Object(r.a)(this,"_hasConnected",!1),Object(r.a)(this,"_failoverMode",!1),Object(r.a)(this,"_useBackupRegion",!1),Object(r.a)(this,"_successfulQueryCount",0),Object(r.a)(this,"_failedQueryCount",0),Object(r.a)(this,"_responseSizes",[]),Object(r.a)(this,"_errorSetStateTimeout",void 0),!this._token)throw new Error("SocketManager requires a token");this._teamId=Object(v.a)(this._token),this._logger=Object(u.a)({teamId:this._teamId}),this._telemeter=Object(b.d)({state:Object(d.getStateByTeamId)(this._teamId)}),this._isClientOnline=this._isClientOnline.bind(this)}debugGetState(){return this._currentState}debugResetRateLimit(){this._backoffMs=0}debugSetFastReconnectsEnabled(e){this._fastReconnectsEnabled=!!e}debugSetSocketConnectFlakiness(e){if(e<0||e>1)throw new Error("Flakiness must be a number between 0 and 1");this._debugSocketConnectFlakiness=e}debugSetSocketSendFlakiness(e){if(e<0||e>1)throw new Error("Flakiness must be a number between 0 and 1");this._debugSocketSendFlakiness=e}debugSlowReconnect(){this._fastReconnectUrl=void 0,this.disconnect()}debugTriggerMessageHandler(e){this._handleSocketMessage(e)}debugTriggerError(){this._setState(g.a.ERROR)}start(){if(this._currentState!==g.a.NEVER_CONNECTED)throw new Error("SocketManager can only be started once");window.addEventListener("offline",()=>{this._info("got offline event; moving to DISCONNECT as needed"),this._transitionSafely({state:g.a.DISCONNECT,noopStates:[g.a.ASLEEP,g.a.SLEEP,g.a.SLEEPING,g.a.HALTED,g.a.HALTING,g.a.HALT,g.a.DISCONNECT,g.a.DISCONNECTING,g.a.DISCONNECTED,g.a.WAIT_FOR_CONNECTIVITY]})}),window.addEventListener("sleep",()=>{this.sleep()},!1),window.addEventListener("wake",()=>{this.wake()},!1),this._transitionSafely({state:g.a.PROV_CONNECT,allowableSourceStates:[g.a.NEVER_CONNECTED,g.a.WAIT_FOR_RATE_LIMIT,g.a.ERROR,g.a.DISCONNECTED],noopStates:[g.a.PROV_CONNECT,g.a.PROV_CONNECTING,g.a.PROV_CONNECTED,g.a.CONNECTED,g.a.CHECKING_FAST_RECONNECT,g.a.FAST_RECONNECTING,g.a.WAIT_FOR_CONNECTIVITY]}),this._maybeEnableDebuggingFlakinessFromQueryParams()}disconnect(){this._transitionSafely({state:g.a.DISCONNECT,noopStates:[g.a.HALTED,g.a.ASLEEP,g.a.DISCONNECTED,g.a.DISCONNECTING,g.a.WAIT_FOR_CONNECTIVITY,g.a.WAIT_FOR_RATE_LIMIT]})}finalizeProvisionalConnection(){this._telemeter.count("sm_flow_finalize_prov_10");var e=this._currentState;if(this._transitionSafely({state:g.a.PROV_FINALIZE,allowableSourceStates:[g.a.PROV_CONNECTED]}),this._currentState!==g.a.CONNECTED){var t=this._currentState;throw this._telemeter.count("sm_flow_finalize_prov_error_10"),this._setState(g.a.ERROR),new Error("Failed to finalize connection -- expected to be connected but actually "+t+" (start state was "+e+")")}this._telemeter.count("sm_flow_finalize_prov_ok_10")}reconnectImmediately(){this._transitionSafely({state:g.a.CONNECT,noopStates:[g.a.CONNECT,g.a.CONNECTED,g.a.CHECKING_FAST_RECONNECT,g.a.FAST_RECONNECTING,g.a.PROV_CONNECT,g.a.PROV_CONNECTED,g.a.PROV_CONNECTING,g.a.PROV_FINALIZE,g.a.PROV_FINALIZING,g.a.HALT,g.a.HALTING,g.a.HALTED]})}halt(){this._telemeter.count("sm_flow_halt"),this._info("Halting"),this._transitionSafely({state:g.a.HALT,noopStates:[g.a.HALT,g.a.HALTING,g.a.HALTED]})}unhalt(){this._telemeter.count("sm_flow_unhalt"),this._info("Unhalting"),this._transitionSafely({state:g.a.CONNECT,allowableSourceStates:[g.a.HALTED]})}sleep(){this._telemeter.count("sm_flow_sleep"),this._info("Sleeping"),this._transitionSafely({state:g.a.SLEEP,noopStates:[g.a.ASLEEP,g.a.SLEEPING,g.a.HALT,g.a.HALTING,g.a.HALTED]})}wake(){[g.a.HALT,g.a.HALTING,g.a.HALTED].includes(this._currentState)||(this._currentState===g.a.ASLEEP?(this._telemeter.count("sm_flow_wake"),this._info("Waking"),this._transitionSafely({state:g.a.CONNECT,allowableSourceStates:[g.a.ASLEEP]})):this._warn("Got asked to wake but we are not asleep; ignoring"))}clearFastReconnectUrl(){this._fastReconnectUrl=void 0,this._fastReconnectUrlReceivedAtTime=void 0}getFastReconnectUrl(){if(this._fastReconnectsEnabled&&this._fastReconnectUrl&&this._fastReconnectUrlReceivedAtTime){if(!(Date.now()-this._fastReconnectUrlReceivedAtTime>L))return this._fastReconnectUrl;this._fastReconnectUrl=void 0}}send(e){var{type:t}=e;if(!this._socket)throw new Error("Cannot send data when we do not have a socket; state = "+this._currentState);if(this._debugSocketSendFlakiness&&Math.random()<=this._debugSocketSendFlakiness){this._info("Intentionally throwing error to simulate flakiness");var a=e.subtype?e.type+"."+e.subtype:e.type,n=new Error("Socket send failed due to intentional flakiness for debugging; message type was "+a);return n.msg={},n.msg.SENT_MSG=e,c.a.reject(n)}Object(o.a)(V,t)&&this._updateLastSocketActivity();var r=this._socket.send(e);return this._maybeMeasureReliabilityMetrics(r),r}getStats(){return{successfulQueryCount:this._successfulQueryCount,failedQueryCount:this._failedQueryCount,responseSizes:this._responseSizes,totalQueryCount:this._successfulQueryCount+this._failedQueryCount}}clearStats(){this._successfulQueryCount=0,this._failedQueryCount=0,this._responseSizes=[]}shouldMeasureReliabilityMetrics(){return G}failover(){this._failoverMode=!0,this._setFailoverMode(this._failoverMode),this.disconnect()}updateToken(e){if(e===this._token)return!1;var t=Object(v.a)(e);if(t!==this._teamId)throw new Error("Cannot update token: new token does not point to the same team id ('"+this._teamId+"' != '"+t+"')");return this._token=e,!0}_maybeEnableDebuggingFlakinessFromQueryParams(){var{ws_flakiness:e}=Object(_.d)(window.location.search);if(e)try{var t=parseFloat(e);t>0&&(this.debugSetSocketConnectFlakiness(t),this.debugSetSocketSendFlakiness(t),1===t&&this.disconnect())}catch(a){}}_closeSocket(e){if(this._socket){this._socket.onConnectCallback=void 0,this._socket.onCloseCallback=void 0,this._socket.onErrorMessageCallback=void 0;var t=D[e]||"generic error",a=e?"#"+e+": "+t:t,n=this._socket;this._socket=void 0,n.isClosingOrClosed?this._warn("Socket was closed because "+a):(this._info("Closing socket because "+a),n.close(e,t)),this._telemeter.count("ws_cr_"+(e||A)+"_10")}}_createSlackSocketWithUrl(e){var t=this;return Object(n.coroutine)(function*(){if(t._socket)throw new Error("We already have a socket");if(t._debugSocketConnectFlakiness&&Math.random()<=t._debugSocketConnectFlakiness)return t._info("Intentionally closing socket to simulate flakiness"),void t._handleSocketClosed();var a=yield t._getConnectionUrl({baseUrl:e,useBackup:t._useBackupRegion});t._socket=new f.d(a),t._connectStartTs=Date.now(),t._socket.onCloseCallback=Object(s.a)(t._handleSocketClosed.bind(t)),t._socket.onConnectCallback=Object(s.a)(t._handleSocketConnected.bind(t)),t._socket.onErrorMessageCallback=Object(s.a)(t._handleSocketErrorMessage.bind(t))})()}_handleGoodbye(){this._info("goodbye: disconnecting from the MS next time it is convenient"),this._isWindowFocused()?this._info("received a goodbye message but window is focused, so ignoring it -- Flannel will hang up on us after a while"):(this._info("goodbye: disconnecting now"),this._closeSocket(E),this.disconnect())}_handleSocketClosed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;this._telemeter.count("sm_flow_unexpected_close_10"),this._closeSocket(e),this._handleUnexpectedSocketClosure(),this._transitionSafely({state:g.a.ERROR})}_transitionSafely(e){Object(g.c)(this._currentState,e,this._setState.bind(this))}_handleSocketConnected(){W&&this._connectStartTs&&this._telemeter.store("sm_connect_to_hello_time",Date.now()-this._connectStartTs);var e=this._currentState===g.a.FAST_RECONNECTING?g.a.CONNECTED:g.a.PROV_CONNECTED;this._telemeter.count("sm_flow_connected_"+e),this._transitionSafely({state:e,allowableSourceStates:[g.a.FAST_RECONNECTING,g.a.PROV_CONNECTING]})}_handleSocketErrorMessage(e){var{code:t,msg:a,retry_after:n}=e;this._info("received an error of type "+t+": "+a),this._telemeter.count("ws_err_10"),this._telemeter.count("ws_err_"+Object(i.a)(a)+"_10");var r=!0;switch(a){case"rate_limited":case"ratelimited":case"Ratelimited":case"backend_overloaded":case"unknown":n?(this._info("rate limited for "+n+" seconds"),this._backoffMs=1e3*n):(this._info("adding delay of "+x+" ms"),this._backoffMs=x);break;case"Subscription failure from the CS":case"Socket URL has expired":this.clearFastReconnectUrl();break;case"invalid_auth":this._currentState===g.a.FAST_RECONNECTING&&(this._info("Got invalid_auth when trying to fast reconnect; clearing fast reconnect URL and trying slow reconnection instead"),this.clearFastReconnectUrl(),r=!1)}this._closeSocket(T),this._setState(g.a.ERROR),r&&this._handleSocketErrorMessageReceived(a)}_handleSocketMessage(e){switch(e&&e.type){case"goodbye":return void this._handleGoodbye();case"reconnect_url":return this._fastReconnectUrl=e.url,void(this._fastReconnectUrlReceivedAtTime=Date.now());case void 0:return void this._warn("Received an invalid message; dropping it")}this._handleSocketMessageReceived(e)}_leaveState(e,t){switch(e){case g.a.FAST_RECONNECTING:case g.a.PROV_CONNECTING:case g.a.PROV_CONNECTED:t===g.a.ERROR&&(this._connectFailureCount+=1,1===this._connectFailureCount&&(this._firstConnectFailureTs=Date.now(),this._didDispatchTroubleConnecting=!1,this._didCountTroubleConnecting=!1),this._maybeDispatchTroubleConnectingAction(),this._maybeSetFailoverMode());break;case g.a.CONNECTED:this._handleDisconnectedSocket();break;case g.a.WAIT_FOR_CONNECTIVITY:this._waitForConnectivityP&&(this._waitForConnectivityP.cancel(),this._waitForConnectivityP=void 0);break;case g.a.WAIT_FOR_RATE_LIMIT:this._waitForRateLimitTimer&&(clearTimeout(this._waitForRateLimitTimer),this._waitForRateLimitTimer=void 0),this._waitingForRateLimitActionInterval&&(clearInterval(this._waitingForRateLimitActionInterval),this._waitingForRateLimitActionInterval=void 0),t===g.a.CONNECT&&this._handleWaitingForRateLimit(0)}}_runState(e,t){var a=this;switch(e){case g.a.NEVER_CONNECTED:if(!this._shouldUseSocket())return;this._info("Attempting initial connection to primary region"),this._telemeter.count("sm_flow_primary_connecting_10"),this._setState(g.a.PROV_CONNECT);break;case g.a.CONNECT:this._setState(g.a.CHECKING_FAST_RECONNECT),this._maybeToggleRegion();var n=this._useBackupRegion?"backup":"primary";this._info("Attempting to connect to "+n+" region"),this._telemeter.count("sm_flow_"+n+"_connecting_10");var r=this.getFastReconnectUrl();if(!r)return void this._setState(g.a.PROV_CONNECT);this._telemeter.count("sm_flow_fast_reconnect_10");try{this._setState(g.a.FAST_RECONNECTING),this._createSlackSocketWithUrl(r).then(()=>{this._socket.messageDelegate=this._handleSocketMessage.bind(this)})}catch(l){this._closeSocket(I),this._setState(g.a.PROV_CONNECT)}break;case g.a.FAST_RECONNECTING:break;case g.a.CONNECTED:this._clearErrorCount(),this._backoffMs=0,this._didDispatchTroubleConnecting=!1,this._didCountTroubleConnecting=!1,this._hasConnected=!0;var o=this._useBackupRegion?"backup":"primary";this._info("Connected to "+o+" region"),this._telemeter.count("sm_flow_"+o+"_connected_10");var i=!this._useBackupRegion;this._socket.startData.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i&&e.region&&a._setLastConnectedPrimaryRegion(e.region)}),this._failoverMode=!1,this._setFailoverMode(!1),this._useBackupRegion=!1,this._setShouldUseBackupRegion(!1),t!==g.a.CONNECTED&&this._setConnected(t);break;case g.a.CHECKING_FAST_RECONNECT:break;case g.a.PROV_CONNECT:this._telemeter.count("sm_flow_connect_prov_10"),this._setState(g.a.PROV_CONNECTING),this._getConnectionUrl({useBackup:this._useBackupRegion}).then(e=>{this._createSlackSocketWithUrl(e)});break;case g.a.PROV_CONNECTING:break;case g.a.PROV_CONNECTED:this._handleProvisionallyConnected(this._socket.startData);break;case g.a.PROV_FINALIZE:this._setState(g.a.PROV_FINALIZING),this._setState(g.a.CONNECTED),this._socket.messageDelegate=this._handleSocketMessage.bind(this);break;case g.a.PROV_FINALIZING:break;case g.a.DISCONNECT:var s=this._isClientOnline()?O:y;this._setState(g.a.DISCONNECTING),this._closeSocket(s),this._setState(g.a.DISCONNECTED);break;case g.a.DISCONNECTING:break;case g.a.DISCONNECTED:this._info("Disconnected! Online? "+this._isClientOnline()),this._setState(g.a.WAIT_FOR_RATE_LIMIT);break;case g.a.ERROR:this._closeSocket(M),Object(p.b)(),this._setState(g.a.WAIT_FOR_RATE_LIMIT);break;case g.a.HALT:this._setState(g.a.HALTING),this._closeSocket(F),this._setState(g.a.HALTED);break;case g.a.HALTING:case g.a.HALTED:break;case g.a.SLEEP:this._setState(g.a.SLEEPING),this._closeSocket(S),this._setState(g.a.ASLEEP);break;case g.a.SLEEPING:case g.a.ASLEEP:break;case g.a.WAIT_FOR_CONNECTIVITY:this._telemeter.count("sm_flow_wait_for_connectivity"),this._waitForConnectivityP=this._awaitReconnection(),this._clearErrorCount(),this._waitForConnectivityP.then(()=>{this._currentState===g.a.WAIT_FOR_CONNECTIVITY&&this._setState(g.a.CONNECT)}).catch(()=>{this._currentState===g.a.WAIT_FOR_CONNECTIVITY&&(this._info("Waited too long for connectivity to come back"),this._setState(g.a.ERROR))});break;case g.a.WAIT_FOR_RATE_LIMIT:var c=Object(h.a)({last:this._backoffMs,cap:U,base:B});if(this._info("backing off: will wait for "+c+" ms"),this._telemeter.count("sm_flow_wait_for_rate_limit",c),!this._waitingForRateLimitActionInterval){var d=Date.now()+c;this._waitingForRateLimitActionInterval=window.setInterval(()=>{var e=Math.ceil((d-Date.now())/1e3);this._handleWaitingForRateLimit(e)},1e3)}this._waitForRateLimitTimer=window.setTimeout(()=>{clearInterval(this._waitingForRateLimitActionInterval),this._currentState===g.a.WAIT_FOR_RATE_LIMIT&&(this._isClientOnline()?this._setState(g.a.CONNECT):this._setState(g.a.WAIT_FOR_CONNECTIVITY))},c),this._backoffMs=c}}_setState(e){if(!Object(g.b)(e))throw new Error("Invalid state");this._info("Changing from "+this._currentState+" to "+e),this._currentState===g.a.ASLEEP&&e===g.a.CONNECT&&Object(p.b)("Wake was triggered by:");var t=this._currentState;this._currentState=e;try{this._leaveState(t,e),this._maybeStartStuckStateTimeout(e),this._stateChanged(),this._runState(e,t)}catch(n){if(this._error("Caught an error while trying to change states: "+n),this._currentState===g.a.ERROR)this._error("we were already trying to change to an error state; unsure how to proceed");else{this._info("will switch to ERROR in 1000 ms"),clearTimeout(this._errorSetStateTimeout);var a=this._currentState;this._errorSetStateTimeout=window.setTimeout(()=>{this._errorSetStateTimeout=void 0,this._currentState===a?(this._info("switching to ERROR just in case"),this._setState(g.a.ERROR)):this._info("will NOT switch to error because current state is "+this._currentState+" when we expected "+a)},1e3)}}}_awaitReconnection(){return new c.a((e,t)=>{this._dispatchToUse(l.a).then(e).catch(t)})}_maybeDispatchTroubleConnectingAction(){if((!this._didDispatchTroubleConnecting||!this._didCountTroubleConnecting)&&!(this._connectFailureCount<this._getConnectionAttemptCountTroubleThreshold())&&this._firstConnectFailureTs){var e=Date.now()-this._firstConnectFailureTs;e<this._getConnectionTroubleThreshold()||(!this._didCountTroubleConnecting&&this._connectFailureCount>=R&&e>=k&&(this._telemeter.count("sm_flow_trouble_connecting_10"),this._didCountTroubleConnecting=!0),this._didDispatchTroubleConnecting||(this._didDispatchTroubleConnecting=!0,this._info("will dispatch troubleConnectingSig"),this._dispatchTroubleConnectingAction()))}}_maybeStartStuckStateTimeout(e){this._maybeCancelStuckStateTimeout();var t={[g.a.CONNECTED]:1/0,[g.a.ASLEEP]:1/0,[g.a.HALTED]:1/0,[g.a.FAST_RECONNECTING]:2e4,[g.a.PROV_CONNECTING]:35e3,[g.a.PROV_CONNECTED]:6e4,[g.a.CHECKING_FAST_RECONNECT]:6e4,[g.a.WAIT_FOR_CONNECTIVITY]:3e5,[g.a.WAIT_FOR_RATE_LIMIT]:12e4}[e]||1e4;this._info("will stay in "+e+" state for up to "+t+" ms"),t!==1/0&&(this._stuckStateTimer=window.setTimeout(()=>{this._warn("Closing socket because we spent "+t+" ms in "+e+" state; giving up"),e===g.a.PROV_CONNECTED&&(this._dispatchProvisionallyConnectedTimeout(),this._telemeter.count("sm_flow_prov_timeout_10")),this._closeSocket(w),this._setState(g.a.ERROR),this._telemeter.count("sm_flow_stuck_10"),this._telemeter.count("sm_flow_stuck_"+e+"_10")},t))}_maybeSetFailoverMode(){if(!this._failoverMode){var e=this._hasConnected?Y:P;(this._connectFailureCount>=e||this._didDispatchTroubleConnecting)&&(this._failoverMode=!0,this._setFailoverMode(!0),this._telemeter.count("sm_flow_failover_mode"),this._info("Failed to connect "+Y+" times; going into failover mode until we connect"))}}_maybeCancelStuckStateTimeout(){this._stuckStateTimer&&(clearTimeout(this._stuckStateTimer),this._stuckStateTimer=void 0)}_maybeToggleRegion(){this._failoverMode&&(this._useBackupRegion=!this._useBackupRegion,this._setShouldUseBackupRegion(this._useBackupRegion))}_getConnectionTroubleThreshold(){return this._hasConnected?k:C}_getConnectionAttemptCountTroubleThreshold(){return this._hasConnected?R:N}_maybeMeasureReliabilityMetrics(e){var t=this;this.shouldMeasureReliabilityMetrics()&&e.tap(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t._successfulQueryCount+=1;var a=JSON.stringify(e).length;t._responseSizes.push(a)}).catch(e=>{e&&e.message===f.c||(this._failedQueryCount+=1)})}_clearErrorCount(){this._connectFailureCount=0,this._firstConnectFailureTs=void 0}_error(e){this._logger.error(H,e)}_info(e){this._logger.info(H,e)}_warn(e){this._logger.warn(H,e)}}var O=4100,M=4101,S=4102,I=4103,E=4104,y=4105,T=4106,w=4107,j=4108,A=4109,F=4110,D={[O]:"disconnect requested",[M]:"an error occurred",[T]:'received an "error" message from socket',[I]:"error during fast reconnect flow",[E]:"received goodbye from server",[F]:"socket activity halted",[S]:"client is going to sleep",[y]:"client went offline",[w]:"client state machine got stuck",[f.b]:"pong timeout",[j]:"unexpected socket closure",[A]:"no reason provided",[f.a]:"unexpected socket closure from SlackSocket"},k=3e4,C=0,R=3,N=1,Y=3,P=1,L=285e3,x=3e4,B=1e3,U=6e4,W=Object(m.a)(1),G=Object(m.a)(1),H="SOCKET-MANAGER",V=["tickle","typing"]},CnQG:function(e,t,a){"use strict";var n=a("XxnT");t.a=function(e){var t,a,r,o,i=n.a.localeData(n.a.locale()),s=0,c=parseInt(e,10);return c%365==0?(s=c/365,c=0):(s=Math.floor(c/365),c%=365),t=0===s||s>1?"yy":"y",a=0===c||c>1?"dd":"d",r=i.relativeTime(s,!0,t,!1),o=i.relativeTime(c,!0,a,!1),s>=1&&c>=1?r+", "+o:s>=1?r:o}},CnUw:function(e,t,a){"use strict";a.d(t,"d",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"c",function(){return l}),a.d(t,"g",function(){return u}),a.d(t,"b",function(){return _}),a.d(t,"f",function(){return m}),a.d(t,"a",function(){return b});var n=a("uVZW"),r=a("dg3x"),o=a("N4J5"),i=a("p6yz"),s=e=>Object(r.e)(e,n.l.SIDEBAR_FOOTER)===n.r.SIDEBAR_BENEFITS_TAB,c=e=>{var t=Object(r.f)(e),{trialStartDate:a}=Object(r.d)(e,n.l.SIDEBAR_FOOTER);return t===i.h.IN_TRIAL&&0===-Object(o.b)(a)},d=e=>{var{hasSeenBenefitsTab:t}=Object(r.d)(e,n.l.SIDEBAR_FOOTER);return!t&&c(e)},l=e=>{if(!s(e))return!1;if(d(e))return!0;var t=!1;if(Object(r.f)(e)===i.h.IN_TRIAL){var{trialExpirationDate:a}=Object(r.d)(e,n.l.SIDEBAR_FOOTER),c=Object(o.b)(a);1!==c&&2!==c||(t=!0)}return t},u=e=>{return Object(r.f)(e)===i.h.EXPIRED_TRIAL_OFFER},_=e=>{var t=Object(r.f)(e);return s(e)&&(t===i.h.IN_TRIAL||t===i.h.EXPIRED_TRIAL_OFFER)},m=e=>{var t=Object(r.f)(e);return s(e)&&(t===i.h.PAID||t===i.h.FREE_EXPIRED_TRIAL)},b=e=>{var t=Object(r.f)(e),{trialPlanLevel:a}=Object(r.d)(e,n.l.SIDEBAR_FOOTER),o=a===i.f.standard.id;switch(t){case i.h.FREE_NO_TRIAL:return"free_no_trial";case i.h.IN_TRIAL:return o?"standard_trial":"plus_trial";case i.h.FREE_EXPIRED_TRIAL:return o?"standard_downgrade":"plus_downgrade";case i.h.PAID:return o?"standard_upgraded":"plus_upgraded";case i.h.EXPIRED_TRIAL_OFFER:return o?"standard_expired_offer":"plus_expired_offer"}}},D6w7:function(e,t,a){"use strict";a.d(t,"c",function(){return m}),a.d(t,"a",function(){return b}),a.d(t,"b",function(){return p}),a.d(t,"d",function(){return f}),a.d(t,"e",function(){return g});var n=a("Z0Cl"),r=a("7EGn"),o=a("zmn3"),i=a("pHS2"),s=a("OZf9"),c=a("wd/R"),d=a.n(c),l=a("zgq7"),u=a("HBMi"),_=a("quKg"),m=Object(l.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions&&e.inbox.stars&&e.inbox.reminders&&Object.assign({},e.inbox.mentions,{},e.inbox.stars,{},e.inbox.reminders),a=Object(r.a)(e,"inbox.archives",{mentions:[],stars:[],reminders:[]}),n=Object(r.a)(e,"inbox.reads",{mentions:[],stars:[],reminders:[]});Object(s.a)(t,e=>{t[e.id]&&(t[e.id].archived=!1,t[e.id].read=!1,a.mentions&&a.mentions.includes(e.id)&&(t[e.id].archived=!0),a.stars&&a.stars.includes(e.id)&&(t[e.id].archived=!0),n.mentions&&n.mentions.includes(e.id)&&(t[e.id].read=!0),n.stars&&n.stars.includes(e.id)&&(t[e.id].read=!0)),t[e.reminderId]&&(t[e.reminderId].archived=!1,t[e.reminderId].read=!1,a.reminders&&a.reminders.includes(e.reminderId)&&(t[e.reminderId].archived=!0),n.reminders&&n.reminders.includes(e.reminderId)&&(t[e.reminderId].read=!0))});var c=Object.keys(t).sort().reverse(),l={};Object(s.a)(c,e=>{l[e]=t[e]});var _=Object(i.a)(l,e=>d()(Object(u.a)(e.id)).startOf("day")),m={};return Object.keys(_).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).forEach(e=>{m[e]=_[e]}),Object(o.a)(m,e=>e)});m.meta={name:"getInboxItems",key:"inboxStoreInboxSelectorsGetInboxItems"};var b=Object(l.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions;return Object(n.a)(t,e=>null===e.subtype)});b.meta={name:"getInboxChannelMentions",key:"inboxStoreInboxSelectorsGetInboxChannelMentions"};var p=Object(l.b)(e=>e&&e.inbox&&e.inbox.cursorMarks||{});p.meta={name:"getInboxCursorMarks",key:"inboxStoreInboxSelectorsGetInboxCursorMarks"};var h={mentions:[],stars:[],reminders:[]},f=Object(l.b)(e=>{var t=e&&e.inbox&&e.inbox.reads||h,a=e&&e.inbox&&e.inbox.archives||h,n=[...new Set((t.mentions||[]).concat(a.mentions||[]))],r=[...new Set((t.stars||[]).concat(a.stars||[]))],o=[...new Set((t.reminders||[]).concat(a.reminders||[]))];return Object.keys(e.inbox.mentions).some(e=>!n.includes(e))||Object.keys(e.inbox.stars).some(e=>!r.includes(e))||Object.keys(e.inbox.reminders).some(e=>!o.includes(e))});f.meta={name:"isHomePageLinkBold",key:"inboxStoreInboxSelectorsIsHomePageLinkBold"};var g=Object(l.b)(e=>Object(_.c)(e,"inbox"));g.meta={name:"isInboxEnabled",key:"inboxStoreInboxSelectorsIsInboxEnabled"}},DOXe:function(e,t,a){"use strict";var n=a("HBMi"),r=a("WhMD");t.a=function(e){if(!e||!e.length)throw new Error("Please pass in a valid YYYY-MM-DD string to convertISOtoUTCReadableDate()");var t=Object(n.a)(e,{parseFormat:"YYYY-MM-DD",returnMoment:!0});return 0===t.get("year")?Object(r.a)(t,{excludeYear:!0}):Object(r.a)(t)}},Er5K:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o});var n=["about","space","tasks","board"],r=["app","about","settings"];function o(e){return-1!==n.indexOf(e)||-1!==r.indexOf(e)||0===e.indexOf("embed")}},HBMi:function(e,t,a){"use strict";var n=a("RjUC"),r=a("XxnT");t.a=function(e){var t,{parseFormat:a="unix",returnMoment:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(r.a)(),s="unix"!==a;return r.a.isMoment(e)?o?e:Object(r.a)(e).toDate():Object(n.a)(e)?o?Object(r.a)(e.getTime()):e:(s&&"string"==typeof e&&(t=e),s||"string"!=typeof e&&"number"!=typeof e||(t="string"==typeof e?parseFloat(e):e),s&&(i=Object(r.a)(t,a)),s||"number"!=typeof t||(i=t.toString().split(".")[0].length>11?Object(r.a)(t):r.a.unix(t)),o?i:Object(r.a)(i).toDate())}},HuaI:function(e,t,a){"use strict";a.r(t),a.d(t,"initialize",function(){return i}),a.d(t,"addWorkspace",function(){return s}),a.d(t,"updateWorkspaceMeta",function(){return c}),a.d(t,"internalSetFocusedWorkspace",function(){return d}),a.d(t,"internalRemoveWorkspace",function(){return l}),a.d(t,"internalWorkspacesRemoved",function(){return u}),a.d(t,"internalRemoveWorkspaceType",function(){return _}),a.d(t,"internalSetFocusedWorkspaceType",function(){return m}),a.d(t,"internalWorkspacesRemovedType",function(){return b}),a.d(t,"setWorkspaceOrder",function(){return p}),a.d(t,"setWorkspaceBooted",function(){return h}),a.d(t,"setDidBootAllWorkspaces",function(){return f}),a.d(t,"setWorkspaceFailedToBoot",function(){return g}),a.d(t,"setWorkspaceIsMigrating",function(){return v}),a.d(t,"setWorkspaceMigrationIsComplete",function(){return O}),a.d(t,"setWorkspaceIsAccessLimited",function(){return M}),a.d(t,"setWillNavigateToUnbootedWorkspaceId",function(){return S});var n=a("aK/h"),r=a("A2B7"),o=a("Z7Ay"),i=Object(r.b)("Initializes the store and sets the initial focused workspace ID");i.meta={name:"initialize",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInitialize",description:"Initializes the store and sets the initial focused workspace ID"},i.propTypes=n.default.object.isRequired;var s=Object(r.b)("Adds a new workspace to the store (but does not boot it)");s.meta={name:"addWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsAddWorkspace",description:"Adds a new workspace to the store (but does not boot it)"},s.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var c=Object(r.b)("Updates the metadata associated with a given workspace");c.meta={name:"updateWorkspaceMeta",key:"appSonicReduxWorkspacesStoreWorkspacesActionsUpdateWorkspaceMeta",description:"Updates the metadata associated with a given workspace"},c.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var d=Object(r.b)("Actually focus a workspace");d.meta={name:"internalSetFocusedWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalSetFocusedWorkspace",description:"Actually focus a workspace"},d.propTypes=n.default.string.isRequired;var l=Object(r.b)("Removes a workspace from the store");l.meta={name:"internalRemoveWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalRemoveWorkspace",description:"Removes a workspace from the store"},l.propTypes=n.default.string.isRequired;var u=Object(r.b)("Signals that a workspace has been removed");u.meta={name:"internalWorkspacesRemoved",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalWorkspacesRemoved",description:"Signals that a workspace has been removed"},u.propTypes=n.default.arrayOf(n.default.string).isRequired;var _=l.getType(),m=d.getType(),b=u.getType(),p=Object(r.b)("Sets the order of workspaces for display");p.meta={name:"setWorkspaceOrder",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceOrder",description:"Sets the order of workspaces for display"},p.propTypes=n.default.arrayOf(n.default.string).isRequired;var h=Object(r.b)("Sets the workspace booted state");h.meta={name:"setWorkspaceBooted",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceBooted",description:"Sets the workspace booted state"},h.propTypes=n.default.string.isRequired;var f=Object(r.b)("Indicates that we have completed (or attempted) boot for all known workspaces");f.meta={name:"setDidBootAllWorkspaces",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetDidBootAllWorkspaces",description:"Indicates that we have completed (or attempted) boot for all known workspaces"},f.propTypes=null;var g=Object(r.b)("Sets the workspace failed to boot state");g.meta={name:"setWorkspaceFailedToBoot",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceFailedToBoot",description:"Sets the workspace failed to boot state"},g.propTypes=n.default.string.isRequired;var v=Object(r.b)("Indicates that the given workspace is in the middle of an org migration");v.meta={name:"setWorkspaceIsMigrating",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsMigrating",description:"Indicates that the given workspace is in the middle of an org migration"},v.propTypes=n.default.string.isRequired;var O=Object(r.b)("Indicates that the given workspace has completed migrating to an org");O.meta={name:"setWorkspaceMigrationIsComplete",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceMigrationIsComplete",description:"Indicates that the given workspace has completed migrating to an org"},O.propTypes=n.default.string.isRequired;var M=Object(r.b)("Indicates that the given workspace has its access limited on this network");M.meta={name:"setWorkspaceIsAccessLimited",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsAccessLimited",description:"Indicates that the given workspace has its access limited on this network"},M.propTypes=n.default.string.isRequired;var S=Object(r.b)("Sets the workspace clicked on from sidebar while workspace is still booting.");S.meta={name:"setWillNavigateToUnbootedWorkspaceId",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWillNavigateToUnbootedWorkspaceId",description:"Sets the workspace clicked on from sidebar while workspace is still booting."},S.propTypes=n.default.string,Object(o.a)("workspacesStoreActions",{setWorkspaceOrder:p,setWorkspaceBooted:h})},HxoY:function(e,t,a){"use strict";var n=a("nKoU"),r=a("XxnT"),o=1;t.a=function(e){var{padder:t="x",uniqueNum:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e||Date.now(),s=t,c=null==a?function(){var{incrementBy:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(o+=e)>=1e5&&(o=1),o}():a;return Object(r.a)(i).unix()+"."+Object(n.a)(c.toString(),6,s)}},JnmR:function(e,t,a){"use strict";a.d(t,"r",function(){return n}),a.d(t,"q",function(){return r}),a.d(t,"i",function(){return o}),a.d(t,"h",function(){return i}),a.d(t,"n",function(){return s}),a.d(t,"d",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"c",function(){return l}),a.d(t,"a",function(){return u}),a.d(t,"s",function(){return _}),a.d(t,"j",function(){return m}),a.d(t,"o",function(){return b}),a.d(t,"g",function(){return p}),a.d(t,"f",function(){return h}),a.d(t,"p",function(){return f}),a.d(t,"w",function(){return g}),a.d(t,"u",function(){return v}),a.d(t,"v",function(){return O}),a.d(t,"k",function(){return M}),a.d(t,"l",function(){return S}),a.d(t,"t",function(){return I}),a.d(t,"b",function(){return E}),a.d(t,"m",function(){return y});var n=180,r=600,o=260,i=1e3,s=284,c=15,d={MANUAL:"manual",AUTO:"auto"},l=500,u=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:260},{minWidth:0,sidebar:200,inspector:260}],_=[{min:n,max:220,className:"p-workspace__sidebar--tiny"},{min:r-50,max:r,className:"p-workspace__sidebar--large"}],m=[{min:o,max:300,className:"p-workspace__secondary_view--tiny"},{min:i-100,max:i,className:"p-workspace__secondary_view--large"}],b=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],p=260,h=400,f=8,g=60,v="sidebarWidthIntent",O="sidebarWidthMode",M="inspectorWidthIntent",S="inspectorWidthMode",I="isSidebarVisible",E="calculatedSidebarWidth",y="LAYOUT"},JoAr:function(e,t,a){"use strict";var n=a("nNoG"),r=a("gpSK"),o=a("XxnT"),i=a("nN8z"),s=a("HBMi"),c=a("WhMD"),d=a("4Kys"),l=a("dRaa"),u=a("rsVu"),_=a("hwN2"),m=a("vg2h"),b=a("hOHP"),p=a("M+5u"),h=a("3kjJ"),f=new n.b("current_status");t.a=function(e,t){var a,{fallbackString:n=null,today:g=Object(o.a)(),do24hrTime:v="en-us"!==o.a.locale()&&"ko-kr"!==o.a.locale(),shouldCapitalize:O=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},M=Object(s.a)(e,{returnMoment:!0}),S=!1;if(a=n||t,!M||!Object(o.a)(M).isValid())return a;var I=Object(m.a)(M,g),E=I>-262080&&I<262080,y=Object(b.a)(M,{today:g,uncapitalized:!O}),T=o.a.localeData(o.a.locale()).dayDivider().format;if(n&&e.toString().split(".")[0].length>11)return a;var w=t.replace(/{(.*?)}/g,(e,a,n)=>{var s,m,I,w;switch(a){case"day_divider_pretty":return M.year()!==g.year()?Object(c.a)(M):y||("es-es"===o.a.locale()?(I=(m=Object(d.a)(M)).charAt(0).toLocaleUpperCase()+m.slice(1),T.replace(/%1/,I).replace(/%2/,1===M.date()?"uno de "+M.format("MMMM"):Object(c.a)(M,{excludeYear:!0}))):"ja-jp"===o.a.locale()?T.replace(/%1/,M.format("dd")).replace(/%2/,Object(c.a)(M,{excludeYear:!0})):"fr-fr"===o.a.locale()?(I=(m=Object(d.a)(M)).charAt(0).toLocaleUpperCase()+m.slice(1),T.replace(/%1/,I).replace(/%2/,Object(c.a)(M,{excludeYear:!0}))):T.replace(/%1/,Object(d.a)(M)).replace(/%2/,Object(c.a)(M,{excludeYear:!0})));case"date_num":return"ko-kr"===o.a.locale()?Object(i.a)(M,{omitTime:!0,dateFormat:"LL"}):Object(i.a)(M,{omitTime:!0});case"date_slash":return Object(i.a)(M,{omitTime:!0,dateFormat:"L"});case"date_long":return"ja-jp"===o.a.locale()?T.replace(/%1/,M.format("dd")).replace(/%2/,Object(c.a)(M,{excludeYear:E})):"ko-kr"===o.a.locale()?Object(c.a)(M,{shortenMonth:!1,excludeYear:E})+" "+Object(d.a)(M):"it-it"===o.a.locale()?Object(d.a)(M)+" "+Object(c.a)(M,{shortenMonth:!1,excludeYear:E}):"zh-cn"===o.a.locale()||"zh-tw"===o.a.locale()?""+Object(c.a)(M,{shortenMonth:!1,excludeYear:E})+Object(d.a)(M):Object(d.a)(M)+", "+Object(c.a)(M,{shortenMonth:!1,excludeYear:E});case"date_long_pretty":return s=!(0===t.indexOf("{date_long_pretty}")&&0===n),w=Object(d.a)(M)+", "+Object(c.a)(M,{shortenMonth:!1,excludeYear:E}),"ko-kr"===o.a.locale()&&(w=Object(c.a)(M,{shortenMonth:!1,excludeYear:E})+" "+Object(d.a)(M)),"it-it"===o.a.locale()&&(w=Object(d.a)(M)+" "+Object(c.a)(M,{shortenMonth:!1,excludeYear:E})),"zh-cn"!==o.a.locale()&&"zh-tw"!==o.a.locale()||(w=""+Object(c.a)(M,{shortenMonth:!1,excludeYear:E})+Object(d.a)(M)),"ja-jp"===o.a.locale()?y||T.replace(/%1/,M.format("dd")).replace(/%2/,Object(c.a)(M,{excludeYear:E})):Object(l.a)(M,{fallbackString:w,uncapitalized:!O||s});case"date":return Object(c.a)(M,{shortenMonth:!1,excludeYear:E});case"date_pretty":return s=!(0===t.indexOf("{date_pretty}")&&0===n),w=Object(c.a)(M,{shortenMonth:!1,excludeYear:E}),Object(l.a)(M,{fallbackString:w,uncapitalized:!O||s});case"date_short":return Object(c.a)(M,{shortenMonth:!0,shortenDay:!0,excludeYear:E});case"date_short_pretty":return s=!(0===t.indexOf("{date_short_pretty}")&&0===n),w=Object(c.a)(M,{shortenDay:!0,shortenMonth:!0,excludeYear:E}),Object(l.a)(M,{fallbackString:w,uncapitalized:!O||s});case"time":return Object(u.a)(M,{includeSeconds:!1,includeMeridiem:!v,do24hrTime:v});case"member_local_time":return""+Object(p.a)(M,{includeSeconds:!1,includeMeridiem:!v,do24hrTime:v});case"time_secs":return Object(u.a)(M,{includeSeconds:!0,includeMeridiem:!v,do24hrTime:v});case"ago":return s=!(0===t.indexOf("{ago}")&&0===n),w=Object(_.a)(M),O&&!s&&w&&"string"==typeof w?w.charAt(0).toLocaleUpperCase()+w.slice(1):w;case"status_expiration":if(23===M.hour()&&59===M.minutes()){var j=M.clone().add(1,"day");if(Object(h.a)(M,g)){var A=Object(b.a)(j,{today:g,uncapitalized:!O});if(A)return A}var F=Object(r.a)(5),D=g.clone().day(F);return Object(h.a)(M,D)?O?f.t("Next week"):f.t("next week"):"ko-kr"===o.a.locale()?Object(c.a)(j,{shortenMonth:!1,excludeYear:!0})+" "+j.format("ddd"):j.format("ddd")+", "+Object(c.a)(j,{shortenMonth:!1,excludeYear:!0})}return Object(h.a)(M,g)?Object(u.a)(M,{includeMeridiem:!v,do24hrTime:v}):y?"pt-br"===o.a.locale()?y+" \xe0s "+Object(u.a)(M,{includeMeridiem:!v,do24hrTime:v}):"ko-kr"===o.a.locale()?y+" "+Object(u.a)(M,{includeMeridiem:!v,do24hrTime:v}):y+", "+Object(u.a)(M,{includeMeridiem:!v,do24hrTime:v}):"ko-kr"===o.a.locale()?Object(c.a)(M,{shortenMonth:!1,excludeYear:!0})+" "+M.format("ddd")+" "+Object(u.a)(M,{includeMeridiem:!v,do24hrTime:v}):M.format("ddd")+", "+Object(c.a)(M,{shortenMonth:!1,excludeYear:!0})+", "+Object(u.a)(M,{includeMeridiem:!v,do24hrTime:v});default:return S=!0,""}});return S?a:w}},"M+5u":function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"c",function(){return d});var n=a("yIs4"),r=a("1WOu"),o=a("XxnT"),i=a("HBMi"),s=a("rsVu"),c="America/Los_Angeles",d=-25200;function l(e){var{timeZoneOffset:t,do24hrTime:a,includeMeridiem:r,includeSeconds:i,returnMoment:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=t&&Object(n.a)(t)?t/60:-420,l=Object(o.a)(e).utcOffset(d);return c?l:Object(s.a)(l,{do24hrTime:a,includeMeridiem:r,includeSeconds:i})}t.a=function(e){var{timeZone:t=c,timeZoneOffset:a=d,do24hrTime:n="en-us"!==o.a.locale()&&"ko-kr"!==o.a.locale(),includeMeridiem:u=!n,includeSeconds:_=!1,returnMoment:m=!1,noTzFallback:b=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=o.a.utc(e);if(Intl&&Intl.DateTimeFormat&&"function"==typeof Intl.DateTimeFormat&&"object"==typeof Intl.DateTimeFormat()&&"function"==typeof Intl.DateTimeFormat().resolvedOptions&&"object"==typeof Intl.DateTimeFormat().resolvedOptions()&&void 0!==Intl.DateTimeFormat().resolvedOptions().timeZone&&Intl.DateTimeFormat().resolvedOptions().timeZone.length>0)try{var h=Object(r.a)(Intl.DateTimeFormat)(o.a.locale(),{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!n}),f=Object(i.a)(h.format(p),{parseFormat:["L LTS"],returnMoment:!0});return m?f:Object(s.a)(f.utc().toDate(),{do24hrTime:n,includeMeridiem:u,includeSeconds:_})}catch(g){if(b)throw g;return l(p,{timeZoneOffset:a,do24hrTime:n,includeMeridiem:u,includeSeconds:_,returnMoment:m})}return l(p,{timeZoneOffset:a,do24hrTime:n,includeMeridiem:u,includeSeconds:_,returnMoment:m})}},N19S:function(e,t,a){"use strict";a.d(t,"a",function(){return I});var n,r=a("9oTK"),o=a("rePB"),i=a("u3oV"),s=a("4Z3G"),c=a("1PKr"),d=a("s4P+"),l=a("8Az7");!function(e){e.flannelOverHttp="flannelOverHttp",e.socketUrl="socketUrl"}(n||(n={}));var u=2500,_=1,m="endpoints",b="ENDPOINT-MANAGER",p={subtype:"endpoint_manager"},h={};function f(){var{url:e,expiry:t,error:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!(e&&t&&t>Date.now())||a)}function g(e){return!!n[e]}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return Date.now()+1e3*e-t}var O={[n.socketUrl]:e=>(function(e){var{method:t,teamId:a,token:n=Object(l.b)(a),args:r={}}=e;return c.b.fetch({method:t,teamId:a,args:Object.assign({},r,{token:n})})})({method:"client.getWebSocketURL",teamId:e}).then(e=>({url:e.primary_websocket_url,fallbackUrl:e.fallback_websocket_url,ttlSeconds:e.ttl_seconds,context:e.routing_context})),[n.flannelOverHttp]:e=>{var t=new Error("Not yet implemented");return s.a.reject(t)}};class endpoint_manager_EndpointManager{constructor(e){Object(o.a)(this,"teamId",void 0),Object(o.a)(this,"logger",void 0),Object(o.a)(this,"storage",void 0),Object(o.a)(this,"storageKey",void 0),Object(o.a)(this,"endpoints",void 0),Object(o.a)(this,"pendingPromises",void 0),this.teamId=e,this.logger=Object(d.a)({label:b,teamId:e}),this.storage=window.localStorage||window.sessionStorage||null,this.storageKey=m+"-v"+_+"-"+e,this.endpoints=this.getStoredEndpoints(),this.pendingPromises={},this.clearInvalidEndpoints()}set(e,t){g(e)&&(this.endpoints[e]=Object.assign({},t,{expiry:t.expiry||v(t.ttlSeconds)}),this.store())}get(e){var t=this;return Object(r.coroutine)(function*(){return f(t.endpoints[e])||t.clearInvalidEndpoints(),t.endpoints[e]||t.getPending(e)||t.fetch(e)})()}fetch(e){var t=this;return Object(r.coroutine)(function*(){t.logger.info(e+" - fetching endpoint");var a,n=O[e](t.teamId);t.setPending(e,n);try{a=yield n,t.logger.info(e+" - got endpoint")}catch(r){a={error:r.error||"_unknown"},t.logger.error(e+" - could not get endpoint",r,p)}return t.set(e,a),a})()}store(){if(this.storage){this.clearInvalidEndpoints();try{this.storage.setItem(this.storageKey,JSON.stringify(this.endpoints))}catch(e){this.logger.error(e,"Could not store endpoints",p)}}}getStoredEndpoints(){var e;if(this.storage)try{if(e=JSON.parse(this.storage.getItem(this.storageKey)))return e}catch(t){this.logger.error(t,"Could not get endpoints from storage",p)}return{}}setPending(e,t){g(e)&&(t.finally(()=>{delete this.pendingPromises[e]}),this.pendingPromises[e]=t)}getPending(e){return this.pendingPromises[e]}clearInvalidEndpoints(){this.endpoints=Object(i.a)(this.endpoints,f)}}var M=a("JtEI"),S=a("cErB");function I(e){return E.apply(this,arguments)}function E(){return(E=Object(r.coroutine)(function*(e){var t,{teamId:a,baseUrl:r,useFallback:o=!1,token:i=Object(l.b)(a),enterpriseId:s,excludeEvents:c=[],startArgs:d={},wsRegion:u,lastPrimaryRegion:_,fastReconnectToken:m,batchPresenceAware:b=!0}=e;if(!i)throw new Error("Cannot getSocketUrl with out a token");var p,f=yield function(e){return h[e]||(h[e]=new endpoint_manager_EndpointManager(e)),h[e]}(a).get(n.socketUrl);r?t=r:t=null===(p=t=o?f.fallbackUrl:f.url)||void 0===p?void 0:p.replace(/\/$|$/,"/");if(!t)throw new Error("Could not get getSocketUrl endpoint");return t=Object(S.s)(t,"token",i),t=Object(S.s)(t,"sync_desync","1"),t=Object(S.s)(t,"slack_client","desktop"),t=Object(S.s)(t,"start_args",Object(S.o)(Object.assign({},function(){var e={agent:Object(M.f)()||"not-gantry"},t=Object(S.u)(window.location.href);return Object.keys(t).filter(e=>0===e.indexOf("feature_")).forEach(a=>{e[a]=t[a]}),e}(),{},d))),f.context&&(t=Object(S.s)(t,"gateway_server",f.context)),s&&(t=Object(S.s)(t,"enterprise_id",s)),c.length&&(t=Object(S.s)(t,"exclude_events",c.join(","))),u&&(t=Object(S.s)(t,"ws_region",u)),o&&(t=Object(S.s)(t,"is_backup","1")),o&&_&&(t=Object(S.s)(t,"last_primary_region",_)),m&&(t=Object(S.s)(t,"frt",m)),b&&(t=Object(S.s)(t,"batch_presence_aware","1")),t})).apply(this,arguments)}},N4J5:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return s});var n=a("wd/R"),r=a.n(n),o=a("A/mR"),i=e=>e&&"0000-00-00"!==e?r()(e).diff(r()().startOf("day"),"days"):null,s=e=>{var t=r()(e).subtract(1,"day");return Object(o.h)(r()(t),{excludeYear:!0})}},NBUf:function(e,t,a){"use strict";var n=a("XxnT"),r=a("HBMi"),o=a("3kjJ");t.a=function(e){var t=Object(r.a)(e,{returnMoment:!0}),a=Object(n.a)().subtract(1,"days");return Object(o.a)(t,a)}},OFWM:function(e,t,a){"use strict";a.d(t,"f",function(){return c}),a.d(t,"j",function(){return d}),a.d(t,"i",function(){return l}),a.d(t,"k",function(){return u}),a.d(t,"c",function(){return b}),a.d(t,"d",function(){return p}),a.d(t,"e",function(){return h}),a.d(t,"g",function(){return f}),a.d(t,"h",function(){return g}),a.d(t,"b",function(){return v}),a.d(t,"l",function(){return O});var n=a("aK/h"),r=a("A2B7"),o=a("MNvw"),i=a("zgq7"),s=a("6jsb"),c=Object(r.b)("Internally update the window focus state");c.meta={name:"innerUpdateFocus",key:"windowStoreInnerUpdateFocus",description:"Internally update the window focus state"},c.propTypes={isFocused:n.default.bool.isRequired,timeLastBlurEvent:n.default.number,timeLastFocusEvent:n.default.number};var d=Object(r.b)("Mark the window as unloading");d.meta={name:"setUnloading",key:"windowStoreSetUnloading",description:"Mark the window as unloading"},d.propTypes=n.default.bool.isRequired;var l=Object(r.b)("What kind of boot is this");l.meta={name:"setBootType",key:"windowStoreSetBootType",description:"What kind of boot is this"},l.propTypes=n.default.string.isRequired;var u=Object(r.b)("Set the entire window state --  this should only be used when the data is coming from the client-store");u.meta={name:"setWindow",key:"windowStoreSetWindow",description:"Set the entire window state --  this should only be used when the data is coming from the client-store"},u.propTypes={isFocused:n.default.bool,isUnloading:n.default.bool.isRequired,timeLastBlurEvent:n.default.number.isRequired,timeLastFocusEvent:n.default.number.isRequired};var _={isFocused:void 0,isUnloading:!1,timeLastBlurEvent:0,timeLastFocusEvent:0},m=Object(o.b)({[c]:(e,t)=>Object.assign({},e,{},t),[d]:(e,t)=>Object.assign({},e,{isUnloading:t}),[u]:(e,t)=>Object.assign({},e,{},t),[l]:(e,t)=>Object.assign({},e,{bootType:t})},_,{storeKey:"window",persistenceEnabled:!1});m.meta={name:"window",key:"windowStoreWindow"},m.propTypes={isFocused:n.default.bool,bootType:n.default.oneOf(["warm","cold"]),isUnloading:n.default.bool,timeLastBlurEvent:n.default.number,timeLastFocusEvent:n.default.number},t.a=m;var b=Object(i.b)(e=>e&&e.window);b.meta={name:"getWindow",key:"windowStoreGetWindow"};var p=Object(i.b)(e=>e&&e.window&&e.window.timeLastBlurEvent);p.meta={name:"getWindowLastBlurEvent",key:"windowStoreGetWindowLastBlurEvent"};var h=Object(i.b)(e=>e&&e.window&&e.window.timeLastFocusEvent);h.meta={name:"getWindowLastFocusEvent",key:"windowStoreGetWindowLastFocusEvent"};var f=Object(i.b)(e=>!!e&&(e&&e.window&&e.window.isFocused));f.meta={name:"isWindowFocused",key:"windowStoreIsWindowFocused"};var g=Object(i.b)(e=>!!e&&(e&&e.window&&e.window.isUnloading));g.meta={name:"isWindowUnloading",key:"windowStoreIsWindowUnloading"};var v=Object(i.b)(e=>e&&e.window&&e.window.bootType);v.meta={name:"getBootType",key:"windowStoreGetBootType"};var O=Object(s.c)("Updates the window focus state",(e,t,a)=>{var n=t();if(f(n)!==a){var r=Date.now(),o=a?{timeLastFocusEvent:r}:{timeLastBlurEvent:r};e(c(Object.assign({isFocused:a},o)))}});O.meta={name:"updateFocus",key:"windowStoreUpdateFocus",description:"Updates the window focus state"},O.propTypes=n.default.bool.isRequired},Otso:function(e,t,a){"use strict";var n=a("zgq7"),r=a("lhZz"),o=a("quKg"),i=a("IY6O"),s=Object(n.b)(e=>{return!!(Object(i.getAllWorkspaces)(e)||[]).find(e=>{var t=Object(r.getStoreInstanceByTeamId)(e);if(!t)return!1;var a=t.getState(),n="treatment"===Object(o.c)(a,"half_boot_jsf_1619",!0);return a&&n})});s.meta={name:"isHalfBootingEnabledForAnyWorkspace",key:"utilityIsHalfBootingEnabledForAnyWorkspaceIsHalfBootingEnabledForAnyWorkspace"},t.a=s},POHe:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=new Map},"Qe/g":function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return c});var n,r=a("quKg"),o=a("Smdl"),i=a("cewN");function s(e){return"treatment"===Object(r.c)(e,"mwc")&&Object(o.a)()}function c(){if(!Object(o.a)())return!1;if(void 0===n){var e=Object(i.d)(location.search);n=!!e.channel_popout}return n}},Qtvm:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"a",function(){return c});var n=a("aK/h"),r=a("A2B7"),o=a("MNvw"),i=a("zgq7"),s=Object(r.b)("Persists a request payload by key");s.meta={name:"persistApiCallPayload",key:"persistedApiCallsStorePersistApiCallPayload",description:"Persists a request payload by key"},s.propTypes={persistKey:n.default.string,payload:n.default.object};var c=Object(r.b)("Clears the persisted apiCall payload at the key");c.meta={name:"clearApiCallPayload",key:"persistedApiCallsStoreClearApiCallPayload",description:"Clears the persisted apiCall payload at the key"},c.propTypes={persistKey:n.default.string};var d=Object(o.b)({[s]:function(e){var{persistKey:t,payload:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({},e,{[t]:Object.assign({},a,{persistKey:t})})},[c]:(e,t)=>{var a=Object.assign({},e);return delete a[t],a}},{},{storeKey:"persistedApiCalls",persistenceEnabled:!0,persistImmediately:!0});d.meta={name:"persistedApiCalls",key:"persistedApiCallsStorePersistedApiCalls"},d.propTypes=n.default.object,t.b=d,Object(i.b)(e=>e&&e.persistedApiCalls).meta={name:"getPersistedApiCalls",key:"persistedApiCallsStoreGetPersistedApiCalls"}},RgZo:function(e,t,a){"use strict";t.a=function(e){var t=Math.floor(e/1e3),a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),r=t-3600*a-60*n,o=n<10?"0"+n:n.toString(),i=r<10?"0"+r:r.toString();return 0!==a?a+":"+o+":"+i:o+":"+i}},SxvU:function(e,t,a){"use strict";var n=a("HBMi"),r=a("nc6C"),o=a("XxnT");t.a=function(e){var t=Object(n.a)(e,{returnMoment:!0});if(!t.isValid())throw new Error("Couldn't create a date object in shouldExcludeYear()");var a=Object(o.a)(),i=Object(r.a)(31,{unitsIn:"days",unitsOut:"seconds"}),s=Object(o.a)(a).subtract(t.unix(),"seconds").unix();return!(t.year()>a.year())&&(a.year()===t.year()||s<=i)}},UioL:function(e,t,a){"use strict";var n=a("fujP"),r=a("Dn8e"),o=a("4Z3G"),i=a("kymL"),s=a("JtEI"),c=a("Z0v/"),d=a("Gogr"),l=a("eK5+"),u=a("Pw4T"),_=a("5MVR"),m=a("9svP"),b=a("s4P+"),p=a("cewN"),h=Object(l.a)(10),f=c.h+"_get_stored_state_from_idb_mark_"+c.i,g=c.h+"_get_stored_state_from_idb_success_"+c.i,v=c.h+"_get_stored_state_from_idb_failure_"+c.i,O=window.location.href.split("?",2)[1],M=Object(p.d)(O),S=Object(l.a)(1)||M.force_store_measurement,I=["channels","emoji","files","members","messages"],E=!1;t.a=function(){var{teamId:e,userId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(b.a)({teamId:e}),l=Object(u.a)();h&&l.mark(f),a.info(c.D,"Getting state from IndexedDB");var p=Object(d.e)(e,"enterprise_id");return o.a.map([e,p],e=>{if(!e)return o.a.resolve({});var a="persist:"+Object(c.F)({appName:Object(s.f)(),teamId:e,userId:t});return i.a.get(a)},{concurrency:2}).spread(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||Object(n.a)(e))return h&&l.clearMarks(f),a.info(c.D,"No state found in IndexedDB"),!1;var o=Object.assign({},e,{},t);return h&&(l.measureAndClear(f),l.count(g)),a.info(c.D,"Successfully got state from IndexedDB"),S&&!E&&(E=!0,I.forEach((e,t)=>{var n=10*(t+1)*1e3,i=Object(m.a)(n,-.25,.25);Object(r.a)(()=>{var t=Object(_.a)(o[e]);null!==t&&(l.store("redux_size_of_store_"+e+"_bytes",t),a.info(c.D,"[STORE-SIZES]","state."+e+" is approximately "+t+" bytes"))},i)})),o}).catch(e=>(h&&(l.clearMarks(f),l.count(v)),a.error(c.D,"Error calling persistDB.get in getStoredStateFromIdb",e),!1))}},UjNr:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var n=a("zLVn"),r=a("fp5s"),o=a("ifKl"),i=a("4Z3G"),s=a("2XU3"),c=a("aK/h"),d=a("6jsb"),l=a("Qtvm"),u=a("dxEi"),_=a("gIpc"),m=["activity.mark","stars.add","stars.remove","reactions.add","reactions.remove","chat.deleteAttachment","conversations.mark","conversations.leave","users.prefs.set","users.prefs.setNotifications","subscriptions.thread.add","subscriptions.thread.remove","unread.markRead","users.profile.set"];var b=Object(d.c)("Dispatch an API call that can be persisted",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{persistKey:c}=a,d=Object(n.a)(a,["persistKey"]),{method:b}=d;if(!function(e){return m.includes(e)}(b))throw new Error("This method is not in the `offline-persist-methods` manifest and cannot be persisted. Make sure the calling code is not relying on a response before adding it to the manifest.");if(Object(u.c)(t()))return e(Object(s.a)(d));var p=c||Object(r.a)(Date.now()+"-"+b+"-");return e(Object(l.c)({persistKey:p,payload:d})),e(Object(_.a)()).then(()=>e(Object(s.a)(d))).catch(o.a).finally(()=>e(Object(l.a)(p))),i.a.resolve()});b.meta={name:"apiCallPersisted",key:"infraApiApiCallPersistedApiCallPersisted",description:"Dispatch an API call that can be persisted"},b.propTypes={method:c.default.string,args:c.default.object,defaultArgs:c.default.object,reason:c.default.string,EXPEDITED:c.default.bool,SET_ACTIVE:c.default.bool,persistKey:c.default.string}},V6fv:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});var n=/^p?(\d{10})\.?(\d{6})$/;function r(e){return e&&n.test(e)?e.replace(n,"$1.$2"):null}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e?r(String((+e/1e3).toFixed(6))):null}},VMwU:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"g",function(){return o}),a.d(t,"m",function(){return i}),a.d(t,"i",function(){return s}),a.d(t,"h",function(){return c}),a.d(t,"f",function(){return d}),a.d(t,"d",function(){return l}),a.d(t,"j",function(){return u}),a.d(t,"k",function(){return _}),a.d(t,"e",function(){return m}),a.d(t,"n",function(){return b}),a.d(t,"l",function(){return f}),a.d(t,"b",function(){return g}),a.d(t,"c",function(){return O});var n=a("rWF5"),r={column_bg:"#3F0E40",menu_bg:"#350d36",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#350D36",text_color:"#FFFFFF",active_presence:"#2BAC76",badge:"#CD2553"},o=e=>{if(!e)return null;var t="#"===e[0]?e.substring(1):e,a=parseInt(t,16),n=[a>>16&255,a>>8&255,a>>0&255];return t.length>6?[a>>24&255,...n]:n},i=e=>{return"#"+e.map(e=>{var t=e.toString(16);return 1===t.length?"0"+t:t}).join("").toUpperCase()},s=e=>{var[t,a,n,r]=e;if(0===a)return("number"==typeof r?[n,n,n,r]:[n,n,n]).map(e=>Math.round(255*e));var o,i=Math.floor(t/60),s=t/60-i,c=n*(1-a),d=n*(1-a*s),l=n*(1-a*(1-s));switch(i){case 0:o=[n,l,c];break;case 1:o=[d,n,c];break;case 2:o=[c,n,l];break;case 3:o=[c,d,n];break;case 4:o=[l,c,n];break;case 5:o=[n,c,d];break;default:throw new Error("hsvToRGB: impossible default reached")}return(o="number"==typeof r?[...o,r]:o).map(e=>Math.round(255*e))},c=e=>{var t=s(e);return i(t)},d=e=>{return(e=>{var t,[a,n,r,o]=e.map(e=>e/255),i=Math.max(a,n,r),s=i-Math.min(a,n,r),c=i,d=0===c?0:s/c;if(0===s)t=0;else switch(i){case a:t=(n-r)/s%6;break;case n:t=(r-a)/s+2;break;case r:t=(a-n)/s+4;break;default:throw new Error("rgbToHSV: impossible default case reached")}(t*=60)<0&&(t+=360);var l=[t,d,c];return"number"==typeof o?[...l,o]:l})(o(e))},l=function(e,t){var{outputHex:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o(e).map(e=>Math.min(Math.max(e-t,0),255));return a?i(n):"rgb("+n.join(",")+")"},u=function(e,t){var{outputHex:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o(e).map(e=>Math.max(Math.min(e+t,255),0));return a?i(n):"rgb("+n.join(",")+")"},_=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=o(e),r=o(t);return"rgb("+n.map((e,t)=>Math.round(e*a+r[t]*(1-a))).join(",")+")"},m=function(e){var t,{featureClassicNav:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=a?Object(n.E)()?.65:.75:Object(n.E)()?.6:.7,_(e.text_color,e.column_bg,t)},b=(e,t)=>{return e&&null!=t?"rgba("+o(e).slice(0,3).join(",")+","+t+")":null},p=/[A-F0-9]{6}/,h=/[A-F0-9]{8}/,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var a=e.trim().toUpperCase();return"#"===a[0]&&(a=a.slice(1)),(3===a.length||4===a.length&&t)&&(a=a.split("").map(e=>""+e+e).join("")),t&&6===a.length&&(a+="FF"),(t?h:p).exec(a)&&a},g=(e,t)=>"0 0 0 1px "+e+", 0 0 0 5px "+t,v=e=>{if(!e)return 0;var t=e=>{var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},[a,n,r]=o(e);return.2126*t(a)+.7152*t(n)+.0722*t(r)},O=(e,t)=>{var a=v(e),n=v(t);return(Math.max(a,n)+.05)/(Math.min(a,n)+.05)}},"W+QA":function(e,t,a){"use strict";a.d(t,"c",function(){return _}),a.d(t,"e",function(){return m}),a.d(t,"f",function(){return g}),a.d(t,"d",function(){return v}),a.d(t,"b",function(){return O}),a.d(t,"a",function(){return M});var n=a("Bw5p"),r=a("jeQL"),o=a("gSGL"),i=a("c8Bs"),s=a("VMwU"),c=/^#?([0-9a-f]{6})$/i,d={default_theme:s.a,aubergine_classic_theme:{column_bg:"#4D394B",menu_bg:"#3E313C",active_item:"#4C9689",active_item_text:"#FFFFFF",hover_item:"#3E313C",text_color:"#FFFFFF",active_presence:"#38978D",badge:"#EB4D5C"},hoth_theme:{column_bg:"#F8F8FA",menu_bg:"#F8F8FA",active_item:"#2D9EE0",active_item_text:"#FFFFFF",hover_item:"#FFFFFF",text_color:"#383F45",active_presence:"#60D156",badge:"#DC5960"},monument_theme:{column_bg:"#0D7E83",menu_bg:"#076570",active_item:"#F79F66",active_item_text:"#FFFFFF",hover_item:"#D37C71",text_color:"#FFFFFF",active_presence:"#F79F66",badge:"#F15340"},chocolate_theme:{column_bg:"#544538",menu_bg:"#42362B",active_item:"#5DB09D",active_item_text:"#FFFFFF",hover_item:"#4A3C30",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#5DB09D"},ocean_theme:{column_bg:"#303E4D",menu_bg:"#2C3849",active_item:"#6698C8",active_item_text:"#FFFFFF",hover_item:"#4A5664",text_color:"#FFFFFF",active_presence:"#94E864",badge:"#78AF8F"},workhard_theme:{column_bg:"#4D5250",menu_bg:"#444A47",active_item:"#D39B46",active_item_text:"#FFFFFF",hover_item:"#434745",text_color:"#FFFFFF",active_presence:"#99D04A",badge:"#DB6668"},nocturne_theme:{column_bg:"#1A1D21",menu_bg:"#000000",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#000000",text_color:"#FFFFFF",active_presence:"#39E500",badge:"#CC4400"},solanum_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#D0FF00",badge:"#889100"},brinjal_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#00FFB7",badge:"#DE4C0D"},cotton_theme:{column_bg:"#BB6A76",menu_bg:"#AD5B67",active_item:"#62B791",active_item_text:"#FFFFFF",hover_item:"#A5516A",text_color:"#FFFFFF",active_presence:"#68F798",badge:"#694464"},eco_theme:{column_bg:"#86A34E",menu_bg:"#94AF63",active_item:"#FFFFFF",active_item_text:"#6D8B42",hover_item:"#94AF63",text_color:"#FFFFFF",active_presence:"#FFB10A",badge:"#DFA044"},banana_theme:{column_bg:"#FFEB84",menu_bg:"#FFF8D4",active_item:"#FFC806",active_item_text:"#591035",hover_item:"#FFF8D4",text_color:"#591035",active_presence:"#4C6DC2",badge:"#DD4147",top_nav_bg:"#FFC806",top_nav_text:"#591035"},sweet_treat_theme:{column_bg:"#FFEEED",menu_bg:"#FFC2C0",active_item:"#FFC2C0",active_item_text:"#4A154B",hover_item:"#FFFFFF",text_color:"#4A154B",active_presence:"#FFA95A",badge:"#37BD8D",top_nav_bg:"#FFC2C0",top_nav_text:"#4A154B"},mood_indigo_theme:{column_bg:"#F8F8FA",menu_bg:"#E0E7FF",active_item:"#001A5E",active_item_text:"#F8F8FA",hover_item:"#E0E7FF",text_color:"#001A5E",active_presence:"#2153FF",badge:"#2153FF",top_nav_bg:"#001A5E",top_nav_text:"#FFFFFF"},eggplant_theme:{column_bg:"#FBFAF7",menu_bg:"#DCEEE4",active_item:"#4A154B",active_item_text:"#FBFAF7",hover_item:"#DCEEE4",text_color:"#4A154B",active_presence:"#2BAC76",badge:"#BD3855",top_nav_bg:"#4A154B",top_nav_text:"#FFFFFF"},cmyk_theme:{column_bg:"#F2F4F7",menu_bg:"#FFE600",active_item:"#35C2FF",active_item_text:"#FFFFFF",hover_item:"#FFE600",text_color:"#151834",active_presence:"#35C2FF",badge:"#E71FA3",top_nav_bg:"#E71FA3",top_nav_text:"#FFFFFF"},mondrian_theme:{column_bg:"#FFFFFF",menu_bg:"#FFC806",active_item:"#000000",active_item_text:"#FFFFFF",hover_item:"#FFC806",text_color:"#000000",active_presence:"#000000",badge:"#FD0B00",top_nav_bg:"#1F57E7",top_nav_text:"#FFFFFF"},terminal_theme:{column_bg:"#1A1D21",menu_bg:"#1A2B23",active_item:"#4EE077",active_item_text:"#1A1D21",hover_item:"#1A2B23",text_color:"#4EE077",active_presence:"#4EE077",badge:"#1C913D",top_nav_bg:"#1A2B23",top_nav_text:"#4EE077"},expensive_theme:{column_bg:"#1A1D21",menu_bg:"#232527",active_item:"#3E4232",active_item_text:"#C9C49C",hover_item:"#232527",text_color:"#C9C49C",active_presence:"#C9C49C",badge:"#3E4233",top_nav_bg:"#C9C49C",top_nav_text:"#1A1D21"},ultraviolet_theme:{column_bg:"#F5F5F5",menu_bg:"#F0F0F0",active_item:"#6715EB",active_item_text:"#FFFFFF",hover_item:"#E8E8E8",text_color:"#1A1A1A",active_presence:"#6715EB",badge:"#CD2553",top_nav_bg:"#6715EB",top_nav_text:"#FFFFFF"},discotheque_theme:{column_bg:"#6A1B1B",menu_bg:"#6A1B1B",active_item:"#D94422",active_item_text:"#FDF6E3",hover_item:"#461412",text_color:"#FFD476",active_presence:"#D67739",badge:"#D94422",top_nav_bg:"#461412",top_nav_text:"#FDF6E3"},haberdashery_theme:{column_bg:"#073642",menu_bg:"#002B36",active_item:"#7D6005",active_item_text:"#FDF6E3",hover_item:"#002B36",text_color:"#FDF6E3",active_presence:"#55D44E",badge:"#DC322F",top_nav_bg:"#002B36",top_nav_text:"#FDF6E3"}},l={default_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#2BAC76",badge:"#CD2553"},aubergine_classic_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#4C9689",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#38978D",badge:"#EB4D5C"},hoth_theme:{column_bg:"#333333",menu_bg:"#3F3F3F",active_item:"#2D9EE0",active_item_text:"#FFFFFF",hover_item:"#3F3F3F",text_color:"#F8F8FA",active_presence:"#60D156",badge:"#DC5960"},monument_theme:{column_bg:"#173438",menu_bg:"#152A2D",active_item:"#EBA270",active_item_text:"#FFFFFF",hover_item:"#C78074",text_color:"#FFFFFF",active_presence:"#EBA270",badge:"#F15340"},chocolate_theme:{column_bg:"#212121",menu_bg:"#353330",active_item:"#5DB09D",active_item_text:"#FFFFFF",hover_item:"#353330",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#5DB09D"},ocean_theme:{column_bg:"#1D2229",menu_bg:"#0B161E",active_item:"#537AA6",active_item_text:"#FFFFFF",hover_item:"#313843",text_color:"#FFFFFF",active_presence:"#94E864",badge:"#78AF8F"},workhard_theme:{column_bg:"#222629",menu_bg:"#121518",active_item:"#D39B46",active_item_text:"#FFFFFF",hover_item:"#2C3136",text_color:"#FFFFFF",active_presence:"#99D04A",badge:"#DB6668"},nocturne_theme:{column_bg:"#1A1D21",menu_bg:"#000000",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#000000",text_color:"#FFFFFF",active_presence:"#39E500",badge:"#CC4400"},solanum_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#5B415B",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#DAFC51",badge:"#8A902C"},brinjal_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#5B415B",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#74FABC",badge:"#CE5628"},banana_theme:{column_bg:"#1A1D21",menu_bg:"#483F1C",active_item:"#FFC806",active_item_text:"#1A1D21",hover_item:"#483F1C",text_color:"#FFF8D4",active_presence:"#3C67D6",badge:"#DD4147",top_nav_bg:"#1A1D21",top_nav_text:"#FFC806"},sweet_treat_theme:{column_bg:"#1A1D21",menu_bg:"#3B3232",active_item:"#FFC2C0",active_item_text:"#1A1D21",hover_item:"#3B3232",text_color:"#FFE9E8",active_presence:"#FFA95A",badge:"#37BD8D",top_nav_bg:"#1A1D21",top_nav_text:"#FFC2C0"},mood_indigo_theme:{column_bg:"#1A1D21",menu_bg:"#2D3136",active_item:"#1F2A42",active_item_text:"#D8DCE8",hover_item:"#2D3136",text_color:"#D8DCE8",active_presence:"#2153FF",badge:"#2153FF",top_nav_bg:"#1F2A42",top_nav_text:"#FFFFFF"},eggplant_theme:{column_bg:"#1A1D21",menu_bg:"#121016",active_item:"#3A2D3B",active_item_text:"#FBFAF7",hover_item:"#27242C",text_color:"#FBFAF7",active_presence:"#2EB67D",badge:"#BD3855",top_nav_bg:"#4A154B",top_nav_text:"#FBFAF7"},cmyk_theme:{column_bg:"#20252C",menu_bg:"#0E0B01",active_item:"#6BC9FF",active_item_text:"#0E0B01",hover_item:"#0E0B01",text_color:"#FCEBF9",active_presence:"#FCE54D",badge:"#CD2553",top_nav_bg:"#D53C9F",top_nav_text:"#0E0B01"},mondrian_theme:{column_bg:"#1A1D21",menu_bg:"#121212",active_item:"#FFC806",active_item_text:"#000000",hover_item:"#121212",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#FD0B00",top_nav_bg:"#1F57E7",top_nav_text:"#FFFFFF"},terminal_theme:{column_bg:"#1A1D21",menu_bg:"#1A2B23",active_item:"#4EE077",active_item_text:"#1A1D21",hover_item:"#1A2B23",text_color:"#4EE077",active_presence:"#4EE077",badge:"#1C913D",top_nav_bg:"#1A2B23",top_nav_text:"#4EE077"},expensive_theme:{column_bg:"#1A1D21",menu_bg:"#232527",active_item:"#3E4232",active_item_text:"#C9C49C",hover_item:"#232527",text_color:"#C9C49C",active_presence:"#C9C49C",badge:"#3E4233",top_nav_bg:"#C9C49C",top_nav_text:"#1A1D21"},ultraviolet_theme:{column_bg:"#14101A",menu_bg:"#241D2E",active_item:"#6715EB",active_item_text:"#FFFFFF",hover_item:"#241D2E",text_color:"#FFFFFF",active_presence:"#6715EB",badge:"#CD2553",top_nav_bg:"#6715EB",top_nav_text:"#FFFFFF"},discotheque_theme:{column_bg:"#1A1D21",menu_bg:"#1A0404",active_item:"#6A1B1B",active_item_text:"#FFD476",hover_item:"#461412",text_color:"#D2A454",active_presence:"#D67739",badge:"#6A1B1B",top_nav_bg:"#461412",top_nav_text:"#FFD476"},haberdashery_theme:{column_bg:"#011F26",menu_bg:"#01151A",active_item:"#4F400E",active_item_text:"#F7E7BC",hover_item:"#01151A",text_color:"#EBEDDF",active_presence:"#55D44E",badge:"#A30F0F",top_nav_bg:"#01151A",top_nav_text:"#EBEDDF"}},u=["nav_bar_bg","nav_bar_text"],_=(e,t)=>{var a=Object(r.a)(e,(e,t)=>u.includes(t));return[a.column_bg,a.menu_bg,a.active_item,a.active_item_text,a.hover_item,a.text_color,a.active_presence,a.badge,t.top_nav_bg,t.top_nav_text].join(",")},m=e=>e&&Object(o.a)(e)&&e.match(c),b=/^#?[0-9a-f]{3,8}$/i,p=/^rgba?\([0-9,.\s]+\)$/i,h=/^hsla?\([0-9,.\s]+\)$/i,f={top_nav_bg:s.a.menu_bg,top_nav_text:s.a.text_color},g=e=>{if(!e)return f;var t=Object.keys(f);return t.every(t=>{return!!(e[t]&&e[t].trim&&e[t].trim())&&(e[t].match(b)||e[t].match(p)||e[t].match(h))})?Object(n.a)(e,t):f},v=function(e,t){var{clientTheme:a="light"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(e=>{return e&&Object.keys(s.a).every(t=>!!(e[t]&&e[t].trim&&e[t].trim())&&(e[t].match(b)||e[t].match(p)||e[t].match(h)))?e:s.a})(function(e,t){var{clientTheme:a="light"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"custom_theme"===e||"workspace_default"===e||"org_default"===e?t:"default"===e||"default_theme"===e?"dark"===a?l.default_theme:d.default_theme:!e&&t?t:"dark"===a&&l[e]?l[e]:d[e]||t||d.default_theme}(e,t,{clientTheme:a}))},O=e=>(e=>{return!(!e||8!==e.length)&&Object(i.a)(e,e=>m(e))})(e)?{column_bg:e[0],menu_bg:e[1],active_item:e[2],active_item_text:e[3],hover_item:e[4],text_color:e[5],active_presence:e[6],badge:e[7]}:null,M=e=>10!==e.length?null:Object(i.a)(e,e=>m(e))?{top_nav_bg:e[8],top_nav_text:e[9]}:null},WhMD:function(e,t,a){"use strict";var n=a("XxnT"),r=a("HBMi");t.a=function(e){var{shortenMonth:t=!1,shortenDay:a=!1,excludeYear:o=!1,excludeDay:i=!1,excludeCommaSeparator:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(r.a)(e,{returnMoment:!0});if(!c.isValid())throw new Error("Couldn't create a valid date in toCalendarDate()");var d,l=c&&1===c.date();switch(n.a.locale()){case"de-de":d={MMMD:"Do MMM",MMMDo:"Do MMM",MMMMD:"D MMMM",MMMMDo:"Do MMMM",MMMDYYYY:"Do MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:"Do MMM YYYY",MMMMDoYYYY:"Do MMMM YYYY"};break;case"es-es":d={MMMD:"D MMM",MMMDo:"D MMM",MMMMD:"D MMMM",MMMMDo:"D [de] MMMM",MMMDYYYY:"D MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM [de] YYYY",MMMDoYYYY:"D MMM YYYY",MMMMDoYYYY:"D [de] MMMM [de] YYYY"};break;case"es-la":d={MMMD:"D [de] MMM",MMMDo:"D [de] MMM",MMMMD:"D [de] MMMM",MMMMDo:"D [de] MMMM",MMMDYYYY:"D [de] MMM [de] YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM [de] YYYY",MMMDoYYYY:"D [de] MMM [de] YYYY",MMMMDoYYYY:"D [de] MMMM [de] YYYY"};break;case"pt-br":d={MMMD:l?"Do MMM":"D MMM",MMMDo:l?"Do MMM":"D MMM",MMMMD:l?"Do MMMM":"D MMMM",MMMMDo:l?"Do [de] MMMM":"D [de] MMMM",MMMDYYYY:l?"Do MMM, YYYY":"D MMM, YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM [de] YYYY",MMMDoYYYY:l?"Do MMM, YYYY":"D MMM, YYYY",MMMMDoYYYY:l?"Do [de] MMMM [de] YYYY":"D [de] MMMM [de] YYYY"};break;case"fr-fr":d={MMMD:"D MMM",MMMDo:"Do MMM",MMMMD:"D MMMM",MMMMDo:"Do MMMM",MMMDYYYY:"D MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:"Do MMM YYYY",MMMMDoYYYY:"Do MMMM YYYY"};break;case"ja-jp":d={MMMD:"MMMD[\u65e5]",MMMDo:"MMMDo",MMMMD:"MMMMD",MMMMDo:"MMMMDo",MMMDYYYY:"YYYY[\u5e74]MMMDo",MMMYYYY:"YYYY[\u5e74]MMM",MMMMYYYY:"YYYY[\u5e74]MMMM",MMMDoYYYY:"YYYY[\u5e74]MMMMDo",MMMMDoYYYY:"YYYY[\u5e74]MMMMDo"};break;case"en-gb":d={MMMD:"D MMM",MMMDo:"D MMM",MMMMD:"D MMMM",MMMMDo:"D MMMM",MMMDYYYY:"D MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:"D MMM YYYY",MMMMDoYYYY:"D MMMM YYYY"};break;case"ko-kr":d={MMMD:"MMM D[\uc77c]",MMMDo:"MMM Do",MMMMD:"MMMM D",MMMMDo:"MMMM Do",MMMDYYYY:"YYYY[\ub144] MMM Do",MMMYYYY:"YYYY[\ub144] MMM",MMMMYYYY:"YYYY[\ub144] MMMM",MMMDoYYYY:"YYYY[\ub144] MMMM Do",MMMMDoYYYY:"YYYY[\ub144] MMMM Do"};break;case"it-it":d={MMMD:l?"Do MMM":"D MMM",MMMDo:l?"Do MMM":"D MMM",MMMMD:l?"Do MMMM":"D MMMM",MMMMDo:l?"Do MMMM":"D MMMM",MMMDYYYY:l?"Do MMM YYYY":"D MMM YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:l?"Do MMM YYYY":"D MMM YYYY",MMMMDoYYYY:l?"Do MMMM YYYY":"D MMMM YYYY"};break;case"zh-cn":case"zh-tw":d={MMMD:"Mo D [\u65e5]",MMMDo:"Mo Do",MMMMD:"Mo D",MMMMDo:"Mo Do",MMMDYYYY:"YYYY [\u5e74] Mo Do",MMMYYYY:"YYYY [\u5e74] Mo",MMMMYYYY:"YYYY [\u5e74] Mo",MMMDoYYYY:"YYYY [\u5e74] Mo Do",MMMMDoYYYY:"YYYY [\u5e74] Mo Do"};break;default:d={MMMD:"MMM D",MMMDo:"MMM Do",MMMMD:"MMMM D",MMMMDo:"MMMM Do",MMMDYYYY:s?"MMM D YYYY":"MMM D, YYYY",MMMYYYY:"MMM YYYY",MMMMYYYY:"MMMM YYYY",MMMDoYYYY:s?"MMM Do YYYY":"MMM Do, YYYY",MMMMDoYYYY:s?"MMMM Do YYYY":"MMMM Do, YYYY"}}return c&&t&&a&&o?c.format(d.MMMD):c&&t&&a&&!o?c.format(d.MMMDYYYY):c&&!t&&a&&o?c.format(d.MMMMD):c&&t&&o?c.format(d.MMMDo):c&&t&&i?c.format(d.MMMYYYY):c&&t?c.format(d.MMMDoYYYY):c&&o?c.format(d.MMMMDo):c&&i?c.format(d.MMMMYYYY):c.format(d.MMMMDoYYYY)}},XL7r:function(e,t,a){"use strict";a.d(t,"m",function(){return u}),a.d(t,"a",function(){return _}),a.d(t,"n",function(){return m}),a.d(t,"c",function(){return b}),a.d(t,"k",function(){return p}),a.d(t,"d",function(){return h}),a.d(t,"g",function(){return f}),a.d(t,"l",function(){return g}),a.d(t,"e",function(){return v}),a.d(t,"f",function(){return O}),a.d(t,"h",function(){return M}),a.d(t,"j",function(){return S}),a.d(t,"b",function(){return I}),a.d(t,"i",function(){return E});var n=a("bPB8"),r=a("zgq7"),o=a("wNji"),i=a("s4P+"),s=a("x4bP"),c=a("brL+"),d=a("/6H7"),l=a("h9PG"),u=Object(r.b)((e,t)=>{if(!Object(s.a)()||"locale"!==t)return e&&e.prefs&&e.prefs.user&&e.prefs.user[t];var a=Object(i.a)({teamId:Object(c.b)(e)});"locale"===t?a.warn("Attempted to fetch user 'locale' pref. Use `getLocale` from `@slack/infra/i18n` to get the user's current locale!"):a.error("Attempted to fetch undefined user pref "+t+".")});u.meta={name:"getUserPref",key:"prefsStoreUserSelectorsGetUserPref"};var _=Object(r.b)(e=>e&&e.prefs&&e.prefs.user&&e.prefs.user.locale);_.meta={name:"dangerouslyGetUserLocalePref",key:"prefsStoreUserSelectorsDangerouslyGetUserLocalePref"};var m=Object(r.b)(e=>{var t=u(e,"display_real_names_override");return 1===t||-1!==t&&!!Object(l.a)(e,"display_real_names")});m.meta={name:"shouldDisplayRealNames",key:"prefsStoreUserSelectorsShouldDisplayRealNames"};var b=Object(r.b)(e=>{var t=u(e,"enterprise_excluded_app_teams")||"";return Object(n.a)((t||"").toString().split(","))});b.meta={name:"getAppExcludedEnterpriseTeamIds",key:"prefsStoreUserSelectorsGetAppExcludedEnterpriseTeamIds"};var p=Object(r.b)(e=>{return u(e,"newxp_suggested_channels")||""});p.meta={name:"getSuggestedChannelsPref",key:"prefsStoreUserSelectorsGetSuggestedChannelsPref"};var h=Object(r.b)(e=>{return u(e,"calls_survey_last_seen")});h.meta={name:"getCallsLastSeenSurveyTimestamp",key:"prefsStoreUserSelectorsGetCallsLastSeenSurveyTimestamp"};var f=Object(r.b)(e=>u(e,"mx_calendar_type"));f.meta={name:"getMXCalendarType",key:"prefsStoreUserSelectorsGetMXCalendarType"};var g=Object(o.a)(e=>u(e,Object(d.a)(e)),e=>e?Object(n.a)(e.split(",")):[]),v=Object(o.a)(e=>u(e,"sidebar_theme_custom_values"),e=>{try{return JSON.parse(e)}catch(t){return}}),O=Object(o.a)(e=>u(e,"dismissed_installed_app_dm_suggestions"),e=>e&&""!==e?e.split(",").reduce((e,t)=>(e[t]=!0,e),{}):{}),M=Object(r.b)(e=>{return u(e,"seen_people_search_count")<3});M.meta={name:"getShowPeopleSearchInProductEducation",key:"prefsStoreUserSelectorsGetShowPeopleSearchInProductEducation"};var S=Object(r.b)(e=>{return u(e,"dismissed_scroll_search_tooltip_count")<3});S.meta={name:"getShowScrollerSearchInProductEducation",key:"prefsStoreUserSelectorsGetShowScrollerSearchInProductEducation"};var I=Object(r.b)(e=>{var t=u(e,"last_dismissed_scroll_search_tooltip_timestamp");return Date.now()-t>864e5});I.meta={name:"get24HoursShowScrollerSearchInProductEducation",key:"prefsStoreUserSelectorsGet24HoursShowScrollerSearchInProductEducation"};var E=Object(r.b)(e=>{var t=u(e,"seen_quickswitcher_shortcut_tip_count"),a=u(e,"k_key_omnibox"),n=u(e,"has_used_quickswitcher_shortcut");return a&&!n&&t<5});E.meta={name:"getShowQuickswitcherTip",key:"prefsStoreUserSelectorsGetShowQuickswitcherTip"}},"Yd+W":function(e,t,a){"use strict";var n,r,o,i,s,c,d;a.d(t,"e",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"g",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"c",function(){return c}),a.d(t,"d",function(){return d}),function(e){e.Pending="pending",e.InProgress="in_progress",e.Completed="completed"}(n||(n={})),function(e){e.SeeWelcomePlace="see_welcome_place",e.SendMessage="send_message",e.JoinChannel="join_channel",e.EnableNotifications="enable_notifications",e.DownloadDesktopApp="download_desktop_app",e.AddAppFileManagement="add_app_file_management",e.AddProfilePhoto="add_profile_photo",e.InviteUsers="invite_users",e.WelcomeMessage="welcome_message",e.AccountSetup="account_setup"}(r||(r={})),function(e){e.Creator="creator_onboarding",e.Joiner="joiner_onboarding"}(o||(o={})),function(e){e.Unknown="unknown",e.Direct="direct",e.Sidebar="sidebar",e.History="history"}(i||(i={})),function(e){e.Gdrive="gdrive",e.OneDrive="onedrive",e.Unknown="unknown"}(s||(s={})),function(e){e.CHANNEL="channel",e.BROWSE="browse"}(c||(c={})),function(e){e.Creator="creator",e.Joiner="joiner"}(d||(d={}))},YjHT:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return d}),a.d(t,"c",function(){return l}),a.d(t,"e",function(){return u}),a.d(t,"j",function(){return _}),a.d(t,"i",function(){return m}),a.d(t,"k",function(){return b}),a.d(t,"f",function(){return f}),a.d(t,"g",function(){return g}),a.d(t,"h",function(){return v});var n=a("aK/h"),r=a("A2B7"),o=a("MNvw"),i=a("zgq7"),s=a("V6fv"),c="error",d="has_more",l="timestamp_too_old",u=Object(r.b)("Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)");u.meta={name:"eventlogGapDetected",key:"consistencyStoreEventlogGapDetected",description:"Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)"},u.propTypes={reason:n.default.oneOf([c,d,l])};var _=Object(r.b)("Store the event_ts of the last rtm message we processed prior to losing our connection");_.meta={name:"setLastKnownEventTimestamp",key:"consistencyStoreSetLastKnownEventTimestamp",description:"Store the event_ts of the last rtm message we processed prior to losing our connection"},_.propTypes=n.default.string;var m=Object(r.b)("Set a value that represents whether we are currently in the boot phase");m.meta={name:"setBootInFlight",key:"consistencyStoreSetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"},m.propTypes=n.default.bool;var b=Object(r.b)("Set a value that represents whether we are currently performing a warm boot");b.meta={name:"setWarmBootInFlight",key:"consistencyStoreSetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"},b.propTypes=n.default.bool;var p={eventlogGapCount:0,lastKnownEventTimestamp:void 0,bootInFlight:!0,warmBootInFlight:!1},h=Object(o.b)({[u]:e=>Object.assign({},e,{eventlogGapCount:e.eventlogGapCount+1}),[_]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(s.b)();return t?Object.assign({},e,{lastKnownEventTimestamp:t}):e},[m]:(e,t)=>Object.assign({},e,{bootInFlight:t}),[b]:(e,t)=>Object.assign({},e,{warmBootInFlight:t})},p,{storeKey:"consistency",persistenceEnabled:!0,beforeWriteTransform:e=>Object.assign({},e,{bootInFlight:p.bootInFlight,warmBootInFlight:p.warmBootInFlight})});h.meta={name:"consistency",key:"consistencyStoreConsistency"},h.propTypes={eventlogGapCount:n.default.number,lastKnownEventTimestamp:n.default.string,bootInFlight:n.default.bool,warmBootInFlight:n.default.bool},t.d=h,Object(i.b)(e=>e&&e.consistency&&e.consistency.eventlogGapCount).meta={name:"getEventlogGapCount",key:"consistencyStoreGetEventlogGapCount"};var f=Object(i.b)(e=>e&&e.consistency&&e.consistency.lastKnownEventTimestamp);f.meta={name:"getLastKnownEventTimestamp",key:"consistencyStoreGetLastKnownEventTimestamp"};var g=Object(i.b)(e=>e&&e.consistency&&e.consistency.bootInFlight);g.meta={name:"isBootInFlight",key:"consistencyStoreIsBootInFlight"};var v=Object(i.b)(e=>e&&e.consistency&&e.consistency.warmBootInFlight);v.meta={name:"isWarmBootInFlight",key:"consistencyStoreIsWarmBootInFlight"}},ayyL:function(e,t,a){"use strict";a.d(t,"A",function(){return c}),a.d(t,"x",function(){return d}),a.d(t,"l",function(){return l}),a.d(t,"y",function(){return u}),a.d(t,"b",function(){return _}),a.d(t,"e",function(){return b}),a.d(t,"g",function(){return p}),a.d(t,"h",function(){return h}),a.d(t,"i",function(){return f}),a.d(t,"m",function(){return g}),a.d(t,"n",function(){return v}),a.d(t,"j",function(){return O}),a.d(t,"k",function(){return M}),a.d(t,"z",function(){return S}),a.d(t,"v",function(){return I}),a.d(t,"B",function(){return E}),a.d(t,"u",function(){return y}),a.d(t,"s",function(){return T}),a.d(t,"t",function(){return w}),a.d(t,"q",function(){return j}),a.d(t,"p",function(){return A}),a.d(t,"w",function(){return D}),a.d(t,"o",function(){return k}),a.d(t,"a",function(){return C}),a.d(t,"f",function(){return R}),a.d(t,"d",function(){return N}),a.d(t,"c",function(){return Y}),a.d(t,"r",function(){return P});var n=a("zgq7"),r=a("oKz6"),o=a("Smdl"),i=a("1zgd"),s=a("Yd+W"),c=e=>!(!e||"workflow"!==e.type),d=Object(n.b)(e=>{var t=Object(r.b)(e,"welcomePlaceState");return t&&"none"!==t});d.meta={name:"isWelcomePlaceOnboardingEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlaceOnboardingEnabled"};var l=Object(n.b)(e=>e&&e.welcomePlace&&e.welcomePlace.items?e.welcomePlace.items:[]);l.meta={name:"getPageItems",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageItems"};var u=Object(n.b)(e=>"enabled"===Object(r.b)(e,"welcomePlaceState")&&(!Object(o.a)()||l(e).length>0));u.meta={name:"isWelcomePlacePageEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageEnabled"};var _=Object(n.b)((e,t)=>{var{channelId:a,messageTimestamp:n}=t;return e.welcomePlace.channelMessages[a][n]});_.meta={name:"getChannelMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetChannelMessage"};var m=Object(n.b)(e=>e.welcomePlace.userDetails);m.meta={name:"getUserDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetUserDetails"};var b=Object(n.b)(e=>m(e).app_file_management);b.meta={name:"getFileManagementDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetFileManagementDetails"};var p=Object(n.b)(e=>e.welcomePlace.userDetails.invite&&e.welcomePlace.userDetails.invite.inviter_id);p.meta={name:"getInviterId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInviterId"};var h=Object(n.b)(e=>e.welcomePlace.lastRequestTimestamp);h.meta={name:"getLastRequestTime",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastRequestTime"};var f=Object(n.b)(e=>e.welcomePlace.lastUsedLocale);f.meta={name:"getLastUsedLocale",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastUsedLocale"};var g=Object(n.b)(e=>e.welcomePlace.pageEntryPoint);g.meta={name:"getPageNavigationTrigger",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageNavigationTrigger"};var v=Object(n.b)(e=>e.welcomePlace.pageViewingSessionId);v.meta={name:"getPageViewingSessionId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageViewingSessionId"};var O=Object(n.b)(e=>e.welcomePlace.onboardingChannelId);O.meta={name:"getOnboardingChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingChannelId"};var M=Object(n.b)(e=>{var t,a,n=l(e).find(e=>"workflow"===e.type);if(!c(n))return null;var r=null==n?void 0:null===(t=n.content)||void 0===t?void 0:null===(a=t.workflow)||void 0===a?void 0:a.type;return"creator_onboarding"===r?s.g.Creator:"joiner_onboarding"===r?s.g.Joiner:null});M.meta={name:"getOnboardingWorkflowType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingWorkflowType"};var S=Object(n.b)(e=>{var t=l(e).find(e=>"workflow"===e.type);if(!c(t))return!1;var a=1e3*t.content.workflow.date_start;return Date.now()-a<6048e5});S.meta={name:"isWelcomePlacePageLinkBold",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageLinkBold"};var I=Object(n.b)(e=>e.welcomePlace.isOpenedFromSonicBoot);I.meta={name:"isOpenedFromSonicBoot",key:"welcomePlaceStoreWelcomePlaceSelectorsIsOpenedFromSonicBoot"};var E=Object(n.b)(()=>{if(!Object(o.a)())throw new Error("this selector can not be used from Legacy");return!1});E.meta={name:"shouldHideTopBanners",key:"welcomePlaceStoreWelcomePlaceSelectorsShouldHideTopBanners"};var y=Object(n.b)((e,t)=>{var a=l(e).find(e=>"workflow"===e.type);return c(a)?a.content.workflow.tasks.find(e=>e.subtype===t):null});y.meta={name:"getWorkflowTaskBySubtype",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowTaskBySubtype"};var T=Object(n.b)(e=>e.welcomePlace.isWorkflowItemCoachmarkVisible);T.meta={name:"getWorkflowItemCoachmarkVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowItemCoachmarkVisibility"},Object(n.b)(e=>e.welcomePlace.hasSentErrorLog).meta={name:"getHasSentErrorLog",key:"welcomePlaceStoreWelcomePlaceSelectorsGetHasSentErrorLog"},Object(n.b)(e=>e.welcomePlace.experiment).meta={name:"getExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperiment"},Object(n.b)(e=>e.welcomePlace.treatment).meta={name:"getExperimentTreatment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperimentTreatment"};var w=Object(n.b)(e=>{var t=l(e).find(e=>"workflow"===e.type&&c(e));if(!t)return{total:0,completed:0};var a=t.content.workflow.tasks.filter(i.a),n=a.filter(e=>"completed"===e.state).length,r=a.find(e=>"completed"!==e.state);return{total:a.length,completed:n,nextTaskType:r&&r.subtype}});w.meta={name:"getWorkflowProgress",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowProgress"};var j=Object(n.b)(e=>{if(M(e)===s.g.Creator)return s.c.CHANNEL;var t=m(e).send_message_task;return t&&t.type});j.meta={name:"getSendMessageTaskType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageTaskType"};var A=Object(n.b)(e=>{if(M(e)===s.g.Creator)return O(e);var t=m(e).send_message_task;return(t&&t.type)===s.c.CHANNEL?t.send_to_channel_id:""});A.meta={name:"getSendMessageCardConversationId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageCardConversationId"};var F=Object(n.b)(e=>e.welcomePlace.welcomePlaceSettings);F.meta={name:"getWelcomePlaceSettings",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWelcomePlaceSettings"},Object(n.b)(e=>{var t=F(e);return t.sendToChannelId?t.sendToChannelId:""}).meta={name:"getSendToChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendToChannelId"};var D=Object(n.b)(e=>{return"completed"===(y(e,s.f.SendMessage)||{}).state});D.meta={name:"isSendMessageTaskCompleted",key:"welcomePlaceStoreWelcomePlaceSelectorsIsSendMessageTaskCompleted"};var k=Object(n.b)(e=>Object(r.b)(e,"sendYourFirstMessageBannerEnabled"));k.meta={name:"getPostSendMessageBannerVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPostSendMessageBannerVisibility"};var C=Object(n.b)(e=>e.welcomePlace.isAnimationStarted);C.meta={name:"getAnimationState",key:"welcomePlaceStoreWelcomePlaceSelectorsGetAnimationState"};var R=Object(n.b)(e=>e.welcomePlace.invitedUsers);R.meta={name:"getInvitedUsers",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInvitedUsers"};var N=Object(n.b)(e=>e.welcomePlace.defaultWelcomeMessages);N.meta={name:"getDefaultWelcomeMessages",key:"welcomePlaceStoreWelcomePlaceSelectorsGetDefaultWelcomeMessages"};var Y=Object(n.b)(e=>e.welcomePlace.customWelcomeMessage);Y.meta={name:"getCustomWelcomeMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetCustomWelcomeMessage"};var P=Object(n.b)(e=>e.welcomePlace.sentMessageChannelId);P.meta={name:"getSentMessageChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSentMessageChannelId"}},bBbA:function(e,t,a){"use strict";var n=a("nc6C");t.a=function(e){var{units:t="seconds"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.a)(e,{unitsIn:t,unitsOut:"weeks"}),r=Object(n.a)(e,{unitsIn:t,unitsOut:"days"}),o=Object(n.a)(e,{unitsIn:t,unitsOut:"hours"}),i=Object(n.a)(e,{unitsIn:t,unitsOut:"minutes"}),s=Object(n.a)(e,{unitsIn:t,unitsOut:"seconds"});return{w:a,d:r>=7?r%7:r,h:o>=24?o%24:o,m:i>=60?i%60:i,s:s>=60?s%60:s}}},btH0:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("wHps");function r(e){return Object.values(n.a).includes(e)}},"d/52":function(e,t,a){"use strict";a.r(t);var n=a("4Z3G"),r=a("z2u5"),o=a("Omjo"),i=a("qe1s"),s=a("4Ms+"),c=a("Gogr"),d=a("lKeU"),l=a("HuaI"),u=a("IY6O"),_=a("TSHB"),m=a("m8R6"),b=a("fujP"),p=a("7EGn"),h=a("vfQU"),f=a("VMwU"),g=a("cErB"),v=()=>{var e=Object(h.K)("teams"),t=Object(h.K)("enterprise");if(!e)return null;var a=function(){var{theme:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.column_bg&&Object(f.d)(e.column_bg,20)},n=function(){var{team_id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t[e]&&t[e].enterpriseId},r=function(){var{team_url:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";var{host:t,protocol:a}=Object(g.n)(e);return a+"//"+t+"/"},o=Object.keys(Object(c.c)("teams")||{}),i=Object(m.a)(e,o);return Object(_.a)(i,e=>({id:e.team_id,name:e.team_name,url:r(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:n(e),teamSwitcherBackground:a(e),isExpired:!0}))};var O=a("vATg"),M=a("sDWr"),S=a("Qe/g"),I=a("KXvl"),E=a("rWF5"),y=a("JnmR"),T=(a("i/gx"),".p-client_container_placeholder"),w=".p-client_container_placeholder__nav";function j(e){var{teamId:t,showTeamSwitcher:a=!1}=e,n=Object(c.e)(t,"channelSidebarBackground"),r=Object(c.e)(t,"teamSwitcherBackground"),o=Object(c.e)(t,"textColor"),i=Object(c.e)(t,"topNavBackground")||n,s=document.querySelector(T);if(s)if(Object(S.a)())!function(e){var t=document.createElement("div");t.classList.add("p-view_header_placeholder"),e.appendChild(t);var a=document.createElement("div");a.classList.add("p-message_input_placeholder"),e.appendChild(a),e.classList.add("p-client_container_placeholder--channel-popout")}(s);else{var d=s.querySelector(w);if(n){if(Object(I.b)()&&a&&(s.classList.add("p-client_container_placeholder--with-team-switcher"),s.style.borderLeftColor=r),d&&o&&n){var l=Object(f.k)(o,n,.1),u=Object(f.n)(o,.1);s.style.borderRightColor=l,Object(E.E)()&&Object(E.l)()&&(d.style.height="7px"),d.style.backgroundColor=i,d.style.color=u,Object(I.b)()&&a&&(s.style.removeProperty("border-left-color"),s.style.boxShadow="-60px 0px 0px 0px "+n,d.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}var _=n,m=Object(c.e)(t,y.b);isNaN(m)||(s.style.width=m+1+"px",Object(I.b)()&&a&&0===m&&(s.style.width="60px",_="none",s.style.borderRight="none")),s.style.backgroundColor=_,s.style.opacity="1"}else A()}}function A(){var e=document.querySelector(T);e&&e.remove()}var F=a("JtEI"),D=a("A4VO"),k=a("rb67"),C=Object(E.g)();C!==E.a.SAFARI&&C!==E.a.EDGE||Object(k.e)();var R=!1;function N(){Object(o.b)("BOOT","Service Worker activated. Waiting until all teams have booted to fetch API calls for caching"),R=!0}Object(E.y)()&&navigator.serviceWorker.addEventListener("controllerchange",N),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),n.a.resolve(Object(s.b)({label:"setupGantry_"+Object(F.d)(Object(D.a)())},r.a)).then(e=>{var{teamId:t,forceColdBoot:a,triggerSignInAfterBoot:r,teamIdFromUrl:o}=e;return Object(E.l)()&&!Object(c.c)("migratedDesktopLocalConfig")&&(!function(){var e=Object(c.c)("prevTeams"),t=Object(b.a)(e)?Object(h.hb)()&&v():e;Object(c.m)("prevTeams",t);var a=Object(c.c)("orderedTeamIds"),n=Object(b.a)(a)?Object(p.a)(Object(h.K)("appTeams"),"teamsByIndex",[]):a;Object(c.m)("orderedTeamIds",n)}(),Object(c.m)("migratedDesktopLocalConfig",!0)),j({teamId:t,showTeamSwitcher:Object(d.a)().length>1}),Object(s.b)({label:"bootClient_"+Object(F.d)(a)},function(){var e,a;Object(M.s)(),t!==Object(c.c)("lastActiveTeamId")&&Object(c.m)("lastActiveTeamId",t);var s=new URL(window.location),d=(null==s?void 0:null===(e=s.searchParams)||void 0===e?void 0:e.get("pause_boot_step"))&&parseInt(null==s?void 0:null===(a=s.searchParams)||void 0===a?void 0:a.get("pause_boot_step"),10);return new n.a(e=>{1===d?window.nextBootStep=e:e()}).then(()=>Object(i.b)({teamId:t,shouldSetFocus:!0})).then(e=>{var t=Date.now(),{store:a,bootAssets:n,isWarmBooting:i}=e,{isJsPath:s,mountClient:c,isReload:d,isQa:l,isDev:u,registerGlobalErrorHandler:_,registerGlobalBeforeunloadHandler:m,registerNetworkConnectivityListener:b}=n;_(),m(),b();var p=a.getState(),h=n.getTelemeter({state:p}),f=i?"warm":"cold";s||u||l||(h.store("sonic_boot_phase_2_"+f,Date.now()-window.sonic_boot__phase_2__start),d()&&h.count("sonic_boot_via_reload"));var g=!0;return A(),c(document.querySelector(".p-client_container"),()=>{s||u||l||!g||(h.store("sonic_boot_phase_3_"+f,Date.now()-t),g=!1)}),Object.assign({},e,{triggerSignInAfterBoot:r,teamIdFromUrl:o})})})}).catch(e=>{A(),Object(O.e)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})}).tap(function(e){return e.bootAssets.listenForLongTasks(e),n.a.resolve(e)}).tap(function(){var{bootAssets:e,triggerSignInAfterBoot:t,teamIdFromUrl:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return;var{startWorkspaceSignIn:n,getClientStoreInstance:r}=e;r().dispatch(n({teamId:a}))}).then(function(e){if(!Object(I.b)())return n.a.resolve(e);var t=e.teamId,a=e.bootAssets.getAllWorkspacesFromLocalConfig(),r=e.bootAssets.getWorkspacesMetaFromLocalConfig(),s=a.filter(e=>r[e]&&!r[e].isExpired).filter(e=>e!==t);return Object(o.b)("BOOT","Booting other teams: "+s.join(",")),s.map(e=>i.b.bind(null,{teamId:e})).reduce((e,t,a)=>e.catch(e=>{Object(O.a)(s[a-1],e)}).finally(t),n.a.resolve()).then(()=>e)}).then(function(e){var{bootAssets:t}=e,{registerMinVersionPoll:a}=t;return a(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{storeSSBMemoryStatsOnAnInterval:a}=t;return a(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{storeReduxStoreStatsOnAnInterval:a}=t;return a(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{registerServiceWorker:a,fetchApiCallsForCaching:r}=t;if(!Object(E.y)())return Object(o.b)("BOOT","Service Worker unavailable; Skipping registration."),n.a.resolve(e);R?(Object(o.b)("BOOT","Service Worker activated earlier; Fetching API calls for caching."),r(e)):navigator.serviceWorker.addEventListener("controllerchange",()=>{Object(o.b)("BOOT","Service Worker activated; Fetching API calls for caching."),r(e)});return navigator.serviceWorker.removeEventListener("controllerchange",N),a(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{isJsPath:a,isProduction:r,removeUrlQueryStringValue:o}=t;if(r&&!a){if(window.location.search.match("force_cold_boot")){var i=o(window.location.href,"force_cold_boot");window.history.replaceState({},"",i)}if(window.location.search.match("new_enough_acceptable")){var s=o(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",s)}}return n.a.resolve(e)}).then(function(e){var t=e.bootAssets.getAllWorkspacesFromLocalConfig(),a=e.bootAssets.getWorkspacesMetaFromLocalConfig(),n=t.filter(e=>a[e]&&!a[e].isExpired);return e.bootAssets.clearAllPersistedDataExceptForTeamIds(n).then(()=>e)}).then(function(e){var{getClientStoreInstance:t,getStoreInstanceByTeamId:a,initPersistenceForTeam:r}=e.bootAssets,o=t();return Object(u.getBootedWorkspaces)(o.getState()).forEach(e=>{var t=a(e);r({teamId:e,store:t})}),n.a.resolve(e)}).tap(function(e){return e.bootAssets.reportLongTailTeamUsage(e),n.a.resolve(e)}).then(function(e){var{getClientStoreInstance:t,getGenericTelemeter:a}=e.bootAssets;return t().dispatch(Object(l.setDidBootAllWorkspaces)()),a().count("sonic_boot_completed"),Object(i.a)(),n.a.resolve(e)})},dRaa:function(e,t,a){"use strict";var n=a("HBMi"),r=a("hOHP");t.a=function(e){var{fallbackString:t="",uncapitalized:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object(n.a)(e,{returnMoment:!0}),i=Object(r.a)(o,{uncapitalized:a});return i||t}},dg3x:function(e,t,a){"use strict";a.d(t,"d",function(){return d}),a.d(t,"e",function(){return l}),a.d(t,"f",function(){return u}),a.d(t,"b",function(){return _}),a.d(t,"a",function(){return m}),a.d(t,"c",function(){return b});var n=a("zgq7"),r=a("p6yz"),o=a("N4J5"),i=a("XL7r"),s=a("uVZW"),c=Object(n.b)((e,t)=>{var a,n;return(null==e?void 0:null===(a=e.megaphoneNotification)||void 0===a?void 0:null===(n=a.megaphoneSpaces)||void 0===n?void 0:n[t])||{}});c.meta={name:"selectMegaphoneNotification",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotification"};var d=Object(n.b)((e,t)=>c(e,t).notificationData||{});d.meta={name:"selectMegaphoneNotificationData",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationData"};var l=Object(n.b)((e,t)=>c(e,t).notificationName||null);l.meta={name:"selectMegaphoneNotificationName",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationName"};var u=Object(n.b)(e=>{var{planRenewalLevel:t,trialExpirationDate:a,discountPercent:n,discountExpirationDate:i}=d(e,s.l.SIDEBAR_FOOTER);return t?r.h.PAID:a&&"0000-00-00"!==a?Object(o.b)(a)<=0?n&&i?r.h.EXPIRED_TRIAL_OFFER:r.h.FREE_EXPIRED_TRIAL:r.h.IN_TRIAL:r.h.FREE_NO_TRIAL});u.meta={name:"selectTeamTrialState",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectTeamTrialState"};var _=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.hasSeenReactionTooltipThisSession)||!1});_.meta={name:"hasSeenReactionTooltipThisSession",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsHasSeenReactionTooltipThisSession"};var m=Object(n.b)(e=>{var t=Object(i.m)(e,"growth_all_banners_prefs");return(t=t?JSON.parse(t):{}).shared_channel_trial_banner_cta_last_ts||0});m.meta={name:"getSharedChannelTrialBannerCtaLastTs",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsGetSharedChannelTrialBannerCtaLastTs"};var b=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.megaphoneDataFetched)||!1});b.meta={name:"selectIsMegaphoneNotificationDataLoaded",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectIsMegaphoneNotificationDataLoaded"}},gpSK:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("yIs4");function r(e){return Object(n.a)(e)?(new Date).getDay()>e?e+7:e:null}},h9PG:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("zgq7"),r=Object(n.b)((e,t)=>e&&e.prefs&&e.prefs.team&&e.prefs.team[t]);r.meta={name:"getTeamPref",key:"prefsStoreTeamSelectorsGetTeamPref"}},hOHP:function(e,t,a){"use strict";var n=a("HBMi"),r=a("XxnT"),o=a("3kjJ");t.a=function(e){var{uncapitalized:t=!1,today:a=Object(r.a)()}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(n.a)(e,{returnMoment:!0});if(!i||!i.isValid())throw new Error("Couldn't create currentDate in maybeGetRelativeDay()");var s=Object(r.a)(a).subtract(1,"days"),c=Object(r.a)(a).add(1,"days"),d="";return Object(o.a)(a,i)&&(d=Object(r.a)(i).calendar(a,{today:"[Today]"}).split(" ")[0]),Object(o.a)(s,i)&&(d=Object(r.a)(i).calendar(a,{yesterday:"[Yesterday]"}).split(" ")[0]),Object(o.a)(c,i)&&(d=Object(r.a)(i).calendar(a,{tomorrow:"[Tomorrow]"}).split(" ")[0]),""!==(d=t?d.toLocaleLowerCase():d.charAt(0).toLocaleUpperCase()+d.slice(1))?d:void 0}},hgYl:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});var n=a("Smdl"),r=["calendar","files","downloads","whats_new","shortcuts","details","apps",...Object(n.a)()?["search_results","activity","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top","huddle","filespane"]:["convo","groups","team","stars","mentions"]],o={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",TASKS:"tasks",BOARDS:"board"}},hwN2:function(e,t,a){"use strict";var n=a("XxnT"),r=a("HBMi"),o=a("0akA"),i=a("WhMD");t.a=function(e){var{compact:t=!1,alwaysAgo:a=!1,left:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(r.a)(e,{returnMoment:!0});if(!c.isValid())throw new Error("We couldn\u2019t create a date object in toTimeAgo()");var d=Object(n.a)(),l=Object(o.a)(d,c),u=!a&&l<0,_=Math.abs(l),m=_/60,b=m/60,p=b/24,h=p/(365/12),f=p/365,g=n.a.localeData(n.a.locale()).timeAgo(),v=u?"future":"past";return v=u&&s?"futureLeft":v,_<45?t?g.compact.sec45:g[v].sec45:_<90?t?g.compact.sec90:g[v].sec90:m<45?t?g.compact.min45.replace(/%d/,Math.round(m).toString()):g[v].min45.replace(/%d/,Math.round(m).toString()):m<90?t?g.compact.min90:g[v].min90:b<24?t?g.compact.hrs24.replace(/%d/,Math.round(b).toString()):g[v].hrs24.replace(/%d/,Math.round(b).toString()):p<2?t?g.compact.day:g[v].day:p<30?t?g.compact.days.replace(/%d/,Math.round(p).toString()):g[v].days.replace(/%d/,Math.round(p).toString()):p<365?t&&!u?Object(i.a)(e,{shortenDay:!0,shortenMonth:!0,excludeYear:!0}):h<1.5?g[v].month.replace(/%d/,Math.round(h).toString()):g[v].months.replace(/%d/,Math.round(h).toString()):f<1.5?t?g.compact.year:g[v].year:t?g.compact.years.replace(/%d/,Math.round(f).toString()):g[v].years.replace(/%d/,Math.round(f).toString())}},"i/gx":function(e,t,a){},iPQX:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("quKg");function r(e){return"page"===Object(n.c)(e,"search_as_a_page")}},jr0b:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={SUCCESS:"success",ERROR:"error"}},kcos:function(e,t,a){"use strict";a.d(t,"e",function(){return c}),a.d(t,"f",function(){return d}),a.d(t,"g",function(){return l}),a.d(t,"d",function(){return u}),a.d(t,"c",function(){return _}),a.d(t,"b",function(){return m}),a.d(t,"a",function(){return b});var n=a("c8Bs"),r=a("IniL"),o=a("quKg"),i=a("VMwU"),s=a("W+QA"),c=()=>!0,d=e=>e&&"treatment"===Object(o.c)(e,"ia_sidebar_a11y"),l=()=>!0,u=e=>Object(r.k)(e,"feature_ia_context_menus")||(e=>!!e&&("treatment_optin"===Object(o.c)(e,"iap1")||"treatment"===Object(o.c)(e,"iap1")))(e),_=e=>e&&"treatment"===Object(o.c)(e,"ia_channel_details"),m=(e,t,a)=>{if((null==a?void 0:a.top_nav_bg)&&(null==a?void 0:a.top_nav_text))return Object(s.f)({top_nav_bg:a.top_nav_bg,top_nav_text:a.top_nav_text});if("custom_theme"!==e&&"workspace_default"!==e&&"org_default"!==e)return Object(s.f)({top_nav_bg:null==a?void 0:a.menu_bg,top_nav_text:null==a?void 0:a.text_color});if(t&&t.top_nav_bg&&t.top_nav_text)return Object(s.f)({top_nav_bg:t.top_nav_bg,top_nav_text:t.top_nav_text});var n=null==a?void 0:a.text_color,r=Object(i.c)(null==a?void 0:a.text_color,null==a?void 0:a.menu_bg)>=4.5?null==a?void 0:a.menu_bg:null==a?void 0:a.column_bg;return Object(s.f)({top_nav_bg:r,top_nav_text:n})},b=e=>{var{colors:t,fillToFullMap:a=!0}=e;return Object(n.a)(t,e=>Object(s.e)(e))?a?t.length>8?Object.assign({},Object(s.b)(t.slice(0,8)),{},Object(s.a)(t.slice(0,10))):Object.assign({},Object(s.b)(t),{},m("custom_theme",null,Object(s.b)(t))):10===t.length?Object.assign({},Object(s.b)(t.slice(0,8)),{},Object(s.a)(t)):Object(s.b)(t):null}},lB1i:function(e,t,a){"use strict";var n=a("XL7r"),r=a("XxnT"),o=a("HBMi"),i=a("rsVu"),s=a("hOHP"),c=a("tqVr");t.a=function(e,t){var a,{do24hrTime:d,uncapitalized:l=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=typeof e)throw new Error("toHumanReadableDateAndTime now requires Redux state");a="en-us"!==r.a.locale()&&"ko-kr"!==r.a.locale()||(void 0===d?!!Object(n.m)(e,"time24"):d);var u,_=Object(o.a)(t,{returnMoment:!0}),m=Object(s.a)(_,{uncapitalized:l}),b=Object(i.a)(_,{includeMeridiem:!a,do24hrTime:a});if(m){switch(r.a.locale()){case"de-de":u=m+" um "+b;break;case"es-es":u=m+" a las "+b;break;case"es-la":u=m+" a la(s) "+b;break;case"fr-fr":u=m+" \xe0 "+b;break;case"ja-jp":u=m+"\u306e"+b;break;case"ko-kr":u=m+" "+b;break;case"pt-br":u=m+" \xe0s "+b;break;default:u=m+" at "+b}return l?u.charAt(0).toLocaleLowerCase()+u.slice(1):u.charAt(0).toLocaleUpperCase()+u.slice(1)}return Object(c.a)(t,{shortenMonth:!0})}},lKeU:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a("cZF4"),r=a("Muja"),o=a("0VPD"),i=a("Gogr");function s(){var e=Object.keys(Object(i.g)()),t=Object.keys(Object(i.f)()),a=Object(n.a)(e,t),s=Object(i.c)("orderedTeamIds"),c=Object(n.a)(Object(o.a)(s,a),e);return Object(r.a)(c,s)||Object(i.m)("orderedTeamIds",c),c}},nN8z:function(e,t,a){"use strict";var n=a("HBMi"),r=a("rsVu");t.a=function(e){var{omitTime:t=!1,do24hrTime:a=!1,dateFormat:o="YYYY-MM-DD"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(n.a)(e,{returnMoment:!0});if(!i.isValid())throw new Error("Couldn't create the momentObj in toDate()");return t?i.format(o):i.format(o)+", "+Object(r.a)(e,{includeMeridiem:!a,do24hrTime:a})}},nc6C:function(e,t,a){"use strict";var n=a("XxnT");t.a=function(e){var{unitsIn:t="milliseconds",unitsOut:a="milliseconds"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.a.duration(e,t).as(a);return Math.floor(r)}},oKz6:function(e,t,a){"use strict";a.d(t,"e",function(){return r}),a.d(t,"f",function(){return i}),a.d(t,"d",function(){return s}),a.d(t,"c",function(){return c}),a.d(t,"a",function(){return d}),a.d(t,"b",function(){return l});var n=a("zgq7"),r=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.inCreatorOnboarding);r.meta={name:"isInCreatorOnboarding",key:"onboardingStoreOnboardingSelectorsIsInCreatorOnboarding"};var o=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.inJoinerOnboarding);o.meta={name:"isInJoinerOnboarding",key:"onboardingStoreOnboardingSelectorsIsInJoinerOnboarding"};var i=Object(n.b)(e=>r(e)||o(e));i.meta={name:"isInOnboarding",key:"onboardingStoreOnboardingSelectorsIsInOnboarding"},Object(n.b)(e=>e&&e.onboarding&&e.onboarding.onboardingChannelId).meta={name:"getOnboardingChannelId",key:"onboardingStoreOnboardingSelectorsGetOnboardingChannelId"},Object(n.b)(e=>e&&e.onboarding&&e.onboarding.welcomeModel||{}).meta={name:"getWelcomeModel",key:"onboardingStoreOnboardingSelectorsGetWelcomeModel"};var s=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.tractorMessageCoachmarkVisible);s.meta={name:"getTractorMessageCoachmarkVisibility",key:"onboardingStoreOnboardingSelectorsGetTractorMessageCoachmarkVisibility"};var c=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.tractorFilesCoachmarkVisible);c.meta={name:"getTractorFilesCoachmarkVisibility",key:"onboardingStoreOnboardingSelectorsGetTractorFilesCoachmarkVisibility"};var d=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.joinerLandingPlaceCoachmarkVisible);d.meta={name:"getJoinerLandingPlaceCoachmarkVisibility",key:"onboardingStoreOnboardingSelectorsGetJoinerLandingPlaceCoachmarkVisibility"};var l=Object(n.b)((e,t)=>{var a;return null==e?void 0:null===(a=e.onboarding)||void 0===a?void 0:a[t]});l.meta={name:"getOnboardingData",key:"onboardingStoreOnboardingSelectorsGetOnboardingData"}},p6yz:function(e,t,a){"use strict";a.d(t,"g",function(){return s}),a.d(t,"f",function(){return l}),a.d(t,"d",function(){return u}),a.d(t,"a",function(){return _}),a.d(t,"b",function(){return m}),a.d(t,"c",function(){return b}),a.d(t,"h",function(){return p}),a.d(t,"e",function(){return h}),a.d(t,"j",function(){return f}),a.d(t,"k",function(){return g}),a.d(t,"l",function(){return O}),a.d(t,"i",function(){return M});var n=a("fujP"),r=a("nNoG"),o=(a("4B0G"),a("cewN")),i=(new r.b("pricing_plans"),{vat:"vat",sales_tax:"sales_tax",abn:"abn",jct:"jct",qst:"qst",sst:"sst",gst:"gst"}),s={monthly:"monthly",yearly:"yearly"},c=1,d=12,l={standard:{id:"std",name:"standard"},plus:{id:"plus",name:"plus"},compliance:{id:"compliance",name:"compliance"},enterprise:{id:"enterprise",name:"enterprise"}},u={CREDIT_CARD:"creditCard",INVOICE:"invoice",ACH:"ach"},_=(Object.values(u),"checkout/router"),m={PAID:"paid",FREE:"free"},b={LOCAL:"local_discount",TENURED_TEAM:"tenured_teams_discount",EDUCATION:"educational",NONPROFIT:"nonprofit",WFH_BUNDLE:"wfhbundle",PARTNER_GROWTH:"partner_growth",ATLASSIAN_2020:"atlassian_2020",POST_TRIAL_DISCOUNT:"post_trial_discount"},p={PAID:"paid",FREE_NO_TRIAL:"free_no_trial",FREE_EXPIRED_TRIAL:"free_expired_trial",IN_TRIAL:"in_trial",EXPIRED_TRIAL_OFFER:"expired_trial_offer"},h={CUSTOMER_SUCCESS_TEAMS:"customer_success_teams",DATA_LOSS_PREVENTION:"data_loss_prevention",GROUP_CALLS:"group_calls",GUARANTEED_UPTIME:"guaranteed_uptime",GUESTS_SHARED_CHANNELS:"guests_shared_channels",HIPAA_COMPLIANCE:"hipaa_compliance",MESSAGE_EXPORTS:"message_exports",SAML_SSO:"saml_sso",UNLIMITED_APPS:"unlimited_apps",UNLIMITED_MESSAGES:"unlimited_messages",UNLIMITED_WORKSPACES:"unlimited_workspaces",USER_PROVISIONING:"user_provisioning"},f=function(){var{planLevel:e,entryPoint:t,feature:a,hash:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r="/plans";return e===l.standard.id?r+="/"+l.standard.name:e===l.plus.id&&(r+="/"+l.plus.name),(t||a)&&(r+=Object(o.c)({entry_point:t,feature:a})),n&&(r+="#"+n),r},g=e=>{var t=(e=>{var t={};if(!Object(n.a)(e.tax)){var a=i.sales_tax;e.tax.tax_name?a=i[e.tax.tax_name.toString().toLowerCase()]||i.sales_tax:e.tax.is_vat&&(a=i.vat);var r=e.tax.effective_tax_percentage||0,o=r>0?r:null;t={value:e.tax.sales_tax_amt,type:a,percentage:o||e.tax.tax_percentage||0}}return t})(e),a=e.credits?{currentCredits:e.credits.total_credits,creditsRemaining:e.credits.credits_remaining,creditsApplied:e.credits.credits_applied,proratedRefundCredits:e.prorated_refund,totalCreditsRemaining:e.credits.total_credits_remaining||0,totalCreditsApplied:e.credits.total_credits_applied||0}:{},r=e.billable_users?{billableActiveUsers:e.billable_users.billable_active_users,inactiveUsers:e.billable_users.inactive_users,zeroActiveUsers:e.billable_users.zero_active_users}:{},o=e.discount?{name:e.discount.name,amount:e.discount.amount,percentage:e.discount.percentage}:{};return{activePlanCost:{id:e.product_id,subtotal:e.subtotal,undiscountedSubtotal:e.undiscounted_subtotal,billableUsers:r,discount:o,tax:t,credits:a,totalRecurring:e.total_recurring,totalRecurringTax:e.recurring_tax_amt,totalDueToday:e.total_due_today,quotedTermEnd:e.quoted_term_end,paidSeats:e.paid_seats}}},v=e=>{var t="12m"===e.term?s.yearly:s.monthly,a="12m"===e.term?d:c;return{id:e.product_id,term:t,currency:e.currency,level:e.level,lengthOfTermInMonths:a,costPerMonth:e.cost_per_m,costPerTerm:e.cost_per_term,isInvoice:e.is_inv||!1,maxInvoiceSeats:e.max_invoice_seats,minInvoiceSeats:e.min_invoice_seats}},O=e=>{var t={};return Object.keys(e).forEach(a=>{var n=e[a];t[a]={[l.standard.id]:{[u.CREDIT_CARD]:{[s.monthly]:v(n.std_m),[s.yearly]:v(n.std_y)},[u.INVOICE]:{[s.yearly]:v(n.inv_std_y)}},[l.plus.id]:{[u.CREDIT_CARD]:{[s.monthly]:v(n.plus_m),[s.yearly]:v(n.plus_y)},[u.INVOICE]:{[s.yearly]:v(n.inv_plus_y)}},[l.compliance.id]:{[u.CREDIT_CARD]:{[s.yearly]:v(n.compliance_y)},[u.INVOICE]:{[s.yearly]:v(n.inv_compliance_y)}}}}),{availablePlans:t}},M=(e,t,a,n)=>{var{country:r,region:o,street:i,postalCode:s,isBusinessPurchase:c}=t;return[e,r,o,i,s,c,a,n].join("-")}},pxl7:function(e,t,a){"use strict";var n=a("HBMi");t.a=function(e,t){var{units:a="days",useFractionalUnits:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(n.a)(e,{returnMoment:!0}),i=Object(n.a)(t,{returnMoment:!0});return o.diff(i,a,r)}},qe1s:function(e,t,a){"use strict";a.d(t,"a",function(){return te}),a.d(t,"b",function(){return ae});var n=a("xnu4"),r=a("4Z3G"),o=a("Omjo"),i=a("lhZz"),s=a("8Az7"),c=a("jngr"),d=a("vATg"),l=a("A4VO"),u=a("Gogr"),_=a("x2Wu"),m=a("4ULK"),b=a("rkcT"),p=a("cewN"),h=a("cErB"),f=a("KGIc"),g=a("cW5R"),v=["force_cold_boot"];var O=a("txCA"),M=a("IbTH"),S=a("YjHT"),I=a("nNoG"),E=a("BNw7"),y=a("toaU"),T=a("sDWr"),w=a("POHe"),j=a("iTOt"),A=a("KXvl"),F=a("9oTK"),D=a("N19S"),k=a("CVDs"),C=a("OFWM"),R=a("dxEi"),N=["accounts_changed","app_uninstalled","bot_changed","channel_archive","channel_converted_to_shared","channel_created","channel_deleted","channel_joined","channel_marked","channel_rename","channel_unarchive","commands_changed","dnd_updated","emoji_changed","file_change","file_created","file_deleted","file_public","file_shared","file_unshared","group_archive","group_joined","group_marked","pin_added","pin_removed","presence_change","reaction_added","reaction_removed","star_added","star_removed","subteam_created","user_change","user_typing"],Y=1;class notifications_socket_manager_NotificationsSocketManager extends k.a{constructor(e){super(e),this._telemeter.count("initializing_notifications_socket_v"+Y)}_handleSocketMessage(e){"desktop_notification"===e.type&&(this.halt(),ae({teamId:this._teamId}),this._info("Booted team after receiving desktop_notification event."))}_setShouldUseBackupRegion(e){}_isClientOnline(){var e=this._getClientStoreState();return Object(R.c)(e)}_isWindowFocused(){var e=this._getClientStoreState();return Object(C.g)(e)}_handleUnexpectedSocketClosure(){}_handleSocketErrorMessageReceived(e){}_handleSocketMessageReceived(e){}_handleDisconnectedSocket(){}_handleWaitingForRateLimit(e){}_shouldUseSocket(){return!0}_setConnected(e){}_stateChanged(){}_setLastConnectedPrimaryRegion(e){}_getConnectionUrl(e){var t=this;return Object(F.coroutine)(function*(){var a=Object(u.e)(t._teamId,"enterprise_id");return Object(D.a)({teamId:t._teamId,useFallback:e.useBackup,enterpriseId:a,excludeEvents:N})})()}_handleProvisionallyConnected(e){}_updateLastSocketActivity(){}_dispatchToUse(e){}_dispatchProvisionallyConnectedTimeout(){}_setFailoverMode(e){}_dispatchTroubleConnectingAction(){}_getClientStoreState(){return Object(i.getClientStoreInstance)().getState()}}var P=a("IniL"),L=a("Otso"),x=a("sDmt"),B=a("0QyR"),U=a("JtEI"),W=a("DlLn"),G=a("fhz1");function H(e){if(!e.shouldSetFocus)return r.a.resolve(e);var{teamId:t,bootAssets:a}=e,{configureClientStore:n,getAllWorkspacesFromLocalConfig:o,getWorkspacesMetaFromLocalConfig:i,initializeWorkspacesStore:s}=a,c=n(),d=Object(A.b)()?o():[t],l=i();return c.dispatch(s({focusedWorkspace:t,allWorkspaces:d,workspacesMeta:l})),r.a.resolve(e)}function V(e){return e.shouldSetFocus?(e.bootAssets.registerRouteListeners(),r.a.resolve(e)):r.a.resolve(e)}var K="ensure_boot_data_failed",q=["user_removed_from_team","invalid_auth","not_authed","userLogin"],Q="accesslimited",z="two_factor_setup_required";function X(e,t){if(window.isReloading)return Object(o.b)("BOOT","("+e.teamId+") Ongoing reload detected during ensure boot data error handler; Halting execution."),Object(E.a)();if(t&&t.data&&t.data.error===z)return Object(G.a)(e.teamId);if(t&&t.data&&t.data.error&&q.includes(t.data.error)&&!t.doNotFetchAuth)return Object(W.d)();var n=!!(t&&t.data&&t.data.active_migration),r=!(!t||!t.data||t.data.error!==Q),i=Object.assign({},e,{bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:r});if(!n){var s;Object(o.a)("Caught boot data error",t);var d=(null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.error)||(null==t?void 0:t.message)||"";Object(c.a)({error:t,teamId:e.teamId,description:Object(U.f)()+" boot failed to fetch boot data: "+d,subtype:Object(U.f)()+"_boot_data_error"})}return function(e){var t=function(e){return Promise.all([a.e("gantry-vendors-async"),a.e("gantry-vendors-async-client"),a.e("client-boot-styles"),a.e("client-boot-imports")]).then(a.bind(null,"OrkY")).then(t=>Object.assign({},e,{bootAssets:t}))}(e);e.shouldSetFocus&&(t=t.then(J));return t.then(Z)}(i).then(e=>{var t=new Error(K);throw t.context=e,t})}function J(e){return H(e).then(V).then(()=>{var{bootAssets:t}=e,{registerServiceWorker:a}=t;return a(),r.a.resolve(e)})}function Z(e){var{teamId:t,bootAssets:a,bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:i}=e,{configureStore:s,reducers:c,middlewares:d,setWorkspaceFailedToBoot:l,setWorkspaceIsMigrating:u,setWorkspaceIsAccessLimited:_,getClientStoreInstance:m,navigateToRoute:b,setWillNavigateToUnbootedWorkspaceId:p,getWillNavigateToUnbootedWorkspaceId:h}=a;Object(o.c)("BOOT","("+e.teamId+") failed to create store; initializing empty team store");var f=s({teamOrEnterpriseId:t,initialState:{},reducers:c,middlewares:d}),g=Object.assign({},e,{store:f}),v=m();return v.dispatch(l(t)),n&&(v.dispatch(u(t)),Object(o.c)("BOOT","("+e.teamId+") Workspace boot failed due to active migration")),i&&v.dispatch(_(t)),h(v.getState())===t?(b(y.a,{teamId:t},{reason:"delayed-unbooted-team-switch"}),v.dispatch(p(null)),r.a.resolve(e)):r.a.resolve(g)}var $={},ee=3;function te(){Object.keys($).forEach(e=>{delete $[e]})}function ae(e){var{teamId:t,shouldSetFocus:a=!1}=e;return window.isReloading?(Object(o.b)("BOOT","("+t+") Ongoing reload detected; Cancelling boot."),Object(E.a)()):$[t]?$[t]:($[t]=function(e,t){Object(o.b)("BOOT","("+e+") Initializing boot");var a=Object(l.a)(),n=Object(u.e)(e,"token"),i=Object(u.e)(e,"user_id"),s=Object(p.a)(window.location.search),c=function(e,t){var a={},n=Object.assign({},Object(g.c)(t),{},Object(p.d)(e));return Object.keys(n).forEach(e=>{if(e.startsWith("force_")&&!v.includes(e)&&n[e]){var t=e.slice(6);n[e].split(",").forEach(e=>{var n="all",r=e,o=e.indexOf(":");o>=0&&(n=e.slice(0,o),r=e.slice(o+1)),a[n]||(a[n]={}),a[n][t]=r})}}),a}(window.location.search,document.cookie);return r.a.resolve({teamId:e,teamToken:n,forceColdBoot:a,featureFlagURLOverrides:s,experimentGroupOverrides:c,shouldSetFocus:t,shouldRetry:!0,userId:i,bootedOffline:!window.navigator.onLine})}(t,a).then(e=>(function(e){return Object(s.c)(e.teamToken,e.teamId),r.a.resolve(e)})(e).then(ne).then(oe).then(ie).then(se).then(ce).then(H).then(V).then(re).then(de).then(le).then(_e).then(me).then(he).then(fe).then(ge).then(ve).then(Oe).then(Me).then(Se).then(Ee).then(Ie).then(ye).then(Te).catch(a=>{return pe(t),a&&a.message===K?a.context:Object(d.e)(a,Object.assign({},e,{teamId:t,locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,doRenderClientErrorView:!0}))})),$[t])}function ne(e){var{teamId:t}=e,a=Object(_.a)();return a[t]&&a[t].isExpired?(Object(o.b)("BOOT","Team ("+t+") is expired; Purging stored model"),Object(m.a)(t).then(()=>e)):r.a.resolve(e)}function re(e){var{teamId:t,bootAssets:a,initialState:n={}}=e,{setLocalConfigForTeamWithKey:i,isDev:c,getTelemeter:d,getClientStoreInstance:l}=e.bootAssets,_=Object(u.c)(x.b);Object(o.b)("BOOT","teamId: "+t+"; Maybe boot with notifications socket");var{configureStore:m,reducers:b,middlewares:p}=a,h=m({teamOrEnterpriseId:t,reducers:b,initialState:n,middlewares:p}).getState(),f=l(),g=null==f?void 0:f.getState(),v=d({state:h});if(!Object(A.b)()||_&&(0===_.length||_.indexOf(t)<ee&&-1!==_.indexOf(t)))return v.count("sonic_boot_not_half_booted"),r.a.resolve(e);var O=Object(s.b)(t),M=Object(L.a)(g),S=Object(P.k)(h,"feature_jsf_1619"),I=Object(u.e)("has_been_half_booted");(S&&M&&!I||c&&S)&&(new notifications_socket_manager_NotificationsSocketManager(O).start(),i(t,"has_been_half_booted",!0),Object(o.b)("BOOT","teamId: "+t+"; Booting with notifications socket"),v.count("sonic_boot_half_booted"));return r.a.resolve(e)}function oe(e){var t={},{teamId:n,teamToken:o,forceColdBoot:i,shouldSetFocus:s,store:c,userId:l,bootedOffline:u}=e,_=Object(b.c)({store:c,shouldSetFocus:s});if(!_){var m=Object(b.d)(n);m&&(_=m)}var p=[Promise.all([a.e("gantry-vendors-async"),a.e("gantry-vendors-async-client"),a.e("client-boot-styles"),a.e("client-boot-imports")]).then(a.bind(null,"OrkY")).then(e=>(t.sonic_boot__phase_2_2_1_1__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.b.bind(null,n)),Object(B.a)({teamId:n,teamToken:o,routeInfo:_,forceAPI:i,userId:l,shouldSetFocus:s,bootedOffline:u,reason:"initial-data"}).then(e=>(t.sonic_boot__phase_2_2_1_2__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(X.bind(null,e)),Object(M.a)(Object(I.s)({recalc:!0,teamOrEnterpriseId:n})).then(e=>(t.sonic_boot__phase_2_2_1_3__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.c.bind(null,n))];return r.a.all(p).then(a=>{var[n,{isWarmBooting:r,bootData:o}={}]=a;return t.sonic_boot__phase_2_2_1__duration=Date.now()-window.sonic_boot__phase_2__start,t.sonic_boot__phase_2_2_2__start=Date.now(),ue(Object.assign({},e,{bootAssets:n,bootData:o,isWarmBooting:r,timing:t,routeInfo:_}))})}function ie(e){var{bootData:t,isWarmBooting:a,teamId:n}=e||{};if(a)return r.a.resolve(e);var{miscBootData:i,teamData:s}=t||{},{domain:c}=s||{},{acceptTosUrl:d}=i||{};if(!d||!c)return r.a.resolve(e);var l=Object(p.f)(location.search,"force_cold_boot",1),u="/gantry"+location.pathname+l,_=Object(h.s)(d,"redirect",u);return Object(o.b)("BOOT","("+n+") User needs to accept the terms of service; redirecting to "+_),location.assign(_),Object(E.a)()}function se(e){var{teamId:t,bootAssets:a}=e,{setLocale:n,getLocale:o}=a;return r.a.resolve(n(o({teamOrEnterpriseId:t,recalc:!0}),t,{shouldEnsureTranslationBundle:!1})).then(()=>e)}function ce(e){var{teamId:t,isWarmBooting:a,bootAssets:n,featureFlagURLOverrides:o,bootData:i}=e,{getImmediatelyPersistedState:s,reducers:c,forceColdBoot:l,processStoredState:u}=n;return(()=>a?u({teamId:t,reducerConfig:c,storedState:i}):r.a.resolve({}))().then(n=>{if(!n)return l({reason:"getStoredStateIfValid didn\u2019t return any stored state",reasonKey:"warm_boot_without_stored_state",immediate:!0}),Object(E.a)();var r=Object.assign({},n,{bootData:Object.assign({},n.bootData,{},o,{version_ts:Object(f.a)()})}),d=a?n&&n.bootData&&n.bootData.user_id:i&&i.selfData&&i.selfData.id,u=s({teamId:t,userId:d,reducerConfig:c,state:r});return ue(Object.assign({initialState:u,userId:d},e))}).catch(e=>(Object(d.d)(t,m.a,l,e),Object(E.a)()))}function de(e){var{bootAssets:t}=e,{loadEmojiTranslations:a}=t;return a(),e}function le(e){var{teamId:t,bootAssets:a}=e;return a.populateTeamDebugger(t),r.a.resolve(e)}function ue(e){var{initialState:t,bootAssets:a,bootData:n,isWarmBooting:r}=e,o=r?t&&t.bootData:n&&n.miscBootData;return a.maybeReloadForMinVersionBump({isWarmBooting:r,bootData:o}).then(t=>t?Object(E.a)():Object.assign({},e,{isReloadingForMinVersionBump:t}))}function _e(e){if(!e.isWarmBooting)return e;Object(o.b)("BOOT","("+e.teamId+") Booting warm");var{teamId:t,bootAssets:a,experimentGroupOverrides:n,initialState:i={}}=e,{configureStore:s,reducers:c,overrideExperimentAssignments:d,middlewares:l}=a,u=s({teamOrEnterpriseId:t,initialState:i,reducers:c,middlewares:l});u.dispatch(Object(S.k)(!0)),n&&n.all&&u.dispatch(d(n.all)),n&&n[t]&&u.dispatch(d(n[t]));var _=e.timing||{};_.sonic_boot__phase_2_2_2__duration=Date.now()-_.sonic_boot__phase_2_2_2__start;var m=Object.assign({},e,{store:u,timing:_});return r.a.resolve(m)}function me(e){if(e.isWarmBooting)return e;Object(o.b)("BOOT","("+e.teamId+") Booting cold");var{teamId:t,bootData:a,bootAssets:n,featureFlagURLOverrides:i,experimentGroupOverrides:s,shouldSetFocus:c,initialState:d={}}=e,{dispatchBootData:l,getMembersById:_,configureStore:m,reducers:p,middlewares:h,checkForPersistenceMethodChanges:f}=n;return f(t).then(()=>{var n=m({teamOrEnterpriseId:t,reducers:p,initialState:d,middlewares:h}),o=Object.assign({},e,{store:n}),f=Object(b.c)({store:n,shouldSetFocus:c});if(n.dispatch(Object(S.k)(!1)),!f){var g=Object(b.d)(t);g?f=g:a.channelsData&&(f=be(a))}l(n,a,f,i,s);var v=n.getState(),O=(a&&a.membersToFetch||[]).filter(e=>!(v&&v.members&&v.members[e]));_(v,O);var M=o.timing||{};M.sonic_boot__phase_2_2_2__duration=Date.now()-M.sonic_boot__phase_2_2_2__start;var I=Object(u.c)("lastColdBootTs"),E=Date.now();I&&(M.sonic_boot_time_between_cold_boots=E-I),Object(u.m)("lastColdBootTs",E);var y=Object.assign({},o,{timing:M});return pe(t),r.a.resolve(y)})}function be(e){var t;if(!(null==e?void 0:null===(t=e.channelsData)||void 0===t?void 0:t.length))return null;var a={},n=e.selfData.id;return e.channelsData.some(function(){var{is_general:e,user:t,id:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return e?(a.general=r,!0):("USLACKBOT"===t&&(a.slackbot=r),t===n&&(a.self=r),o||(a.first=r),!1)}),{routeName:T.b,params:{entityId:a.general||a.slackbot||a.self||a.first}}}function pe(e){var t=Object(i.getStoreInstanceByTeamId)(e);t&&(Object(o.b)("BOOT","("+e+") Boot complete"),w.a.delete("setNavigatedDuringWarmBoot"),t.dispatch(Object(S.i)(!1)))}function he(e){var{store:t,teamId:a,bootAssets:{getLocaleFeatureFlags:i,localesEnabled:s,queryStringParse:c,resetCredentials:d,removeUrlQueryStringValue:l,getLocale:u}}=e,_=i(t.getState()),m=s(Object.keys(_).reduce((e,t)=>Object.assign({},e,{[Object(n.a)(t)]:_[t]}),{})),b=c(window.location.search),p=u();return!m[p]&&Object.keys(b).includes("locale")?(Object(o.b)("BOOT","team "+a+" attempted to boot into locale "+p+" which has not been enabled; clearing credentials and reloading app"),d(),window.location=l(window.location.href,"locale"),Object(E.a)()):r.a.resolve(e)}function fe(e){var{shouldSetFocus:t,store:a,bootAssets:n,bootData:o,isWarmBooting:i,teamId:s}=e,{getRouteName:c,getRouteParams:d,updateCurrentRoute:l,getCurrentRouteInfo:u,navigateToRoute:_,getClientStoreInstance:m,setWillNavigateToUnbootedWorkspaceId:p,getWillNavigateToUnbootedWorkspaceId:h}=n,f=m();if(h(f.getState())===s)return _(y.a,{teamId:s},{reason:"delayed-unbooted-team-switch"}),f.dispatch(p(null)),r.a.resolve(e);if(!t)return r.a.resolve(e);if(i){var g=u(window.location.pathname,{throwOnNoRoute:!1});if(g&&g.params&&g.params.entityId)a.dispatch(l(g));else{var v=Object(b.d)(s);if(v)a.dispatch(l(v));else if(null==o?void 0:o.channelsData){var O=be(o);O&&a.dispatch(l(O))}}}if(Object(j.f)(a.getState()))return r.a.resolve(e);var M=a.getState(),S=c(M),I=d(M);return I&&T.a[I.entityId]&&(I.entityId=T.a[I.entityId]),_(S,I,{shouldReplaceState:!0}),r.a.resolve(e)}function ge(e){var{store:t,bootAssets:a,isWarmBooting:n}=e,o=n?"warm":"cold";return t.dispatch(a.setBootType(o)),r.a.resolve(e)}function ve(e){var{teamId:t,bootAssets:a,store:n}=e,{getClientStoreInstance:o,setWorkspaceBooted:i,setWindow:s,getWindow:c,hasWorkspaceFailedToBoot:d}=a,l=o(),u=l.getState(),_=c(u);return n.dispatch(s(_)),d(u,t)?r.a.resolve(e):(l.dispatch(i(t)),r.a.resolve(e))}function Oe(e){if(e.isWarmBooting)return e;var{setLocalConfigForTeamWithKey:t}=e.bootAssets,a=document.documentElement,n=!(!a||!a.dataset)&&a.dataset.versionTs;return"dev"!==n&&(n=parseInt(n,10)),t(e.teamId,"versionDataTs",n),r.a.resolve(e)}function Me(e){return e.bootAssets.connectSocket(e)}function Se(e){var{bootAssets:t,store:a,teamId:n,teamToken:i,featureFlagURLOverrides:s,experimentGroupOverrides:d,userId:l,isWarmBooting:u}=e,{dispatchBootData:_,getMembersById:m,maybeFetchDrafts:p,maybeReloadSlashCommands:h,maybeReloadEmoji:f,fetchAndUpsertWhatsNewUpdates:g,loadAppActions:v,shouldSetFocus:M,maybeCountServiceWorkerNetworkStackFailureRefresh:I,throttledLoadMegaphoneNotificationData:E,maybeInitializeHuddleSdk:y,maybeFetchOrgAndTeamPermissions:T}=t;if(u){Object(o.b)("BOOT","("+n+") Fetching fresh boot data after booting with persisted store");var w=Object(b.c)({store:a,shouldSetFocus:M});Object(B.a)({teamId:n,teamToken:i,routeInfo:w,forceAPI:!0,userId:l,shouldSetFocus:M,reason:"deferred-data"}).then(function(){var{bootData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ue(Object.assign({},e,{isWarmBooting:!1,bootData:t})).then(()=>t)}).then(t=>{a.dispatch(Object(S.k)(!1)),_(a,t,w,s,d);var n=a.getState(),r=(t&&t.membersToFetch||[]).filter(e=>!(n&&n.members&&n.members[e]));m(n,r);var o=Object.assign({},e,{isWarmBooting:!1});fe(o),ie(Object.assign({},o,{bootData:t})),ye(e)}).catch(e=>{var t;Object(o.a)("Caught deferred boot data error",e);var a=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.error)||(null==e?void 0:e.message)||"";Object(c.a)({error:e,teamId:n,userId:l,description:"client boot failed to fetch deferred boot data: "+a,subtype:"client_boot_data_error"})}).finally(()=>{pe(n)})}return setTimeout(()=>{!function(e){var{store:t,bootAssets:a}=e,n=t.getState();(Object(P.k)(n,"feature_custom_status_calendar_sync")||Object(O.a)(n))&&t.dispatch(a.getCurrentCalendarAndUser())}(e),a.dispatch(T()),a.dispatch(p({preserveCache:!0,reason:"boot-team"})),a.dispatch(h()),a.dispatch(f()),a.dispatch(v()),a.dispatch(E()),a.dispatch(g({reason:"boot-team"})),I(),function(e){var{store:t,shouldSetFocus:a,bootAssets:n}=e,r=t.getState();a&&n.maybeEnablePWA(r)}(e),y(a)},0),r.a.resolve(e)}function Ie(e){var{store:t,bootAssets:a,shouldSetFocus:n}=e,{getTelemeter:o,isScreenReaderEnabled:i}=a,s=t.getState();return n&&i(s)&&o({state:s}).count("screenreader_enabled"),r.a.resolve(e)}function Ee(e){var{store:t,bootAssets:a,shouldSetFocus:n,isWarmBooting:o,timing:i,bootedOffline:s}=e,{getTelemeter:c,isJsPath:d,isQa:l,isDev:u,getDesktopPreloadTime:_,getClientStoreInstance:m,setShouldLogTTUMetrics:b,setShouldLogAppBootMetrics:p,ttiPolyfill:h}=a,f=c({state:t.getState()}),g=o?"warm":"cold";if(d||u)return r.a.resolve(e);if(l)return r.a.resolve(e);if(n){if(s){f.count("sonic_boot_offline");var v=m();return v.dispatch(b(!1)),v.dispatch(p(!1)),r.a.resolve(e)}var O=a.isReload()?"_reload":"";f.count("sonic_boot"),a.isReload()&&f.count("sonic_boot_reload");var M=_();if(M>0&&f.store("sonic_boot_desktop_preload"+O,M),window.performance&&window.performance.getEntriesByName){var S=""+window.location.origin+window.location.pathname,I=window.performance.getEntriesByName(S);if(I&&I[0]){var E=I[0],y=E.requestStart-E.workerStart,T=0===y?"awake":"asleep";f.count("sonic_boot_sw_status_"+T),f.store("sonic_boot_sw_startup_time_"+g,y)}}window.performance&&window.performance.timing&&window.performance.timing.fetchStart>0&&(f.store("sonic_boot_window__connectStart_"+g+O,window.performance.timing.connectStart-window.performance.timing.fetchStart),f.store("sonic_boot_window__connectEnd_"+g+O,window.performance.timing.connectEnd-window.performance.timing.fetchStart),f.store("sonic_boot_window__requestStart_"+g+O,window.performance.timing.requestStart-window.performance.timing.fetchStart),f.store("sonic_boot_window__responseStart_"+g+O,window.performance.timing.responseStart-window.performance.timing.fetchStart),f.store("sonic_boot_window__responseEnd_"+g+O,window.performance.timing.responseEnd-window.performance.timing.fetchStart),f.store("sonic_boot_window__domLoading_"+g+O,window.performance.timing.domLoading-window.performance.timing.fetchStart),f.store("sonic_boot_phase_1_"+g+O,window.sonic_boot__phase_1__duration)),f.store("sonic_boot_phase_2_1_"+g,0),f.store("sonic_boot_phase_1_5_"+g,window.sonic_boot__phase_1_5__duration);var w=Date.now()-window.sonic_boot__phase_2__start;f.store("sonic_boot_phase_2_2_"+g,w),f.store("sonic_boot_phase_2_2_1_"+g,i.sonic_boot__phase_2_2_1__duration),f.store("sonic_boot_phase_2_2_1_1_"+g,i.sonic_boot__phase_2_2_1_1__duration),f.store("sonic_boot_phase_2_2_1_2_"+g,i.sonic_boot__phase_2_2_1_2__duration),f.store("sonic_boot_phase_2_2_1_3_"+g,i.sonic_boot__phase_2_2_1_3__duration),f.store("sonic_boot_phase_2_2_2_"+g,i.sonic_boot__phase_2_2_2__duration),f.store("sonic_boot_phase_2_2_3_"+g,w-i.sonic_boot__phase_2_2_1__duration-i.sonic_boot__phase_2_2_2__duration),h.getFirstConsistentlyInteractive().then(e=>{f.store("sonic_tti_"+g,e)}),i.sonic_boot_time_between_cold_boots&&f.store("sonic_boot_time_between_cold_boots",i.sonic_boot_time_between_cold_boots)}return r.a.resolve(e)}function ye(e){var{teamId:t,store:a,bootAssets:n}=e,o=a.getState();return n.saveColorsToLocalConfig(t,o),r.a.resolve(e)}function Te(e){try{var{store:t,bootAssets:a}=e,{openChannelBrowser:n,openChannelCreateModal:o,openInviteModalFromExternalLink:i,openPrefsModal:s,queryStringParse:c}=a,d=c(window.location.search),{open:l}=d;if(!l)return r.a.resolve(e);var{dispatch:u}=t;switch(l){case"browse_channels":u(n());break;case"create_channel":u(o({entryPoint:"external_link"}));break;case"invite_members":u(i({source:d.source||"query_string_open_invite_members",provider:d.provider}));break;case"notifications":u(s({activeSection:"notifications"}))}return r.a.resolve(e)}catch(_){return r.a.resolve(e)}}},rEgV:function(e,t,a){"use strict";var n=a("HBMi"),r=a("3kjJ");t.a=function(e){var t=Object(n.a)(e,{returnMoment:!0}),a=Object(n.a)(new Date,{returnMoment:!0});return Object(r.a)(t,a)}},rsVu:function(e,t,a){"use strict";var n=a("XxnT"),r=a("HBMi");t.a=function(e){var{do24hrTime:t="en-us"!==n.a.locale()&&"ko-kr"!==n.a.locale(),includeMeridiem:a=!t,includeSeconds:o=!1,timeFormat:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.a.isMoment(e)?Object(n.a)(e):Object(r.a)(e,{returnMoment:!0});if(!s.isValid())throw new Error("The toTime() utility couldn\u2019t create a Moment object");var c=s.minute(),d=n.a.locale();return i?s.format(i):t?"fr-fr"===d?0===c?s.format("H [h]"):o?s.format("H [h] mm [min] ss [s]"):s.format("H [h] mm"):"de-de"===d?o?s.format("HH:mm:ss [Uhr]"):s.format("HH:mm [Uhr]"):"pt-br"===d?o&&s.second()>0?s.format("H[h]mm[min]ss[s]"):0===c?s.format("H[h]"):s.format("H[h]mm"):"es-la"===d?o?s.format("H:mm:ss"):s.format("H:mm"):o?s.format("HH:mm:ss"):s.format("HH:mm"):a?"ko-kr"===d?o?s.format("A h:mm:ss"):s.format("A h:mm"):o?s.format("h:mm:ss A"):s.format("h:mm A"):o?s.format("h:mm:ss"):s.format("h:mm")}},s0HP:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"a",function(){return s});var n=a("aK/h"),r=a("A2B7"),o=Object(r.b)("Initialize user preferences");o.meta={name:"setUserPrefs",key:"prefsStoreUserActionsSetUserPrefs",description:"Initialize user preferences"},o.propTypes=n.default.object.isRequired;var i=Object(r.b)("Update one user pref");i.meta={name:"setUserPref",key:"prefsStoreUserActionsSetUserPref",description:"Update one user pref"},i.propTypes={pref:n.default.string.isRequired,value:n.default.any.isRequired};var s=Object(r.b)("Update multiple users pref");s.meta={name:"setMultipleUserPrefs",key:"prefsStoreUserActionsSetMultipleUserPrefs",description:"Update multiple users pref"},s.propTypes=n.default.object.isRequired},sDWr:function(e,t,a){"use strict";a.d(t,"b",function(){return M}),a.d(t,"m",function(){return S}),a.d(t,"f",function(){return I}),a.d(t,"c",function(){return E}),a.d(t,"k",function(){return y}),a.d(t,"d",function(){return T}),a.d(t,"h",function(){return w}),a.d(t,"i",function(){return j}),a.d(t,"g",function(){return A}),a.d(t,"p",function(){return F}),a.d(t,"o",function(){return D}),a.d(t,"r",function(){return k}),a.d(t,"l",function(){return C}),a.d(t,"q",function(){return R}),a.d(t,"n",function(){return N}),a.d(t,"e",function(){return Y}),a.d(t,"j",function(){return P}),a.d(t,"a",function(){return L}),a.d(t,"s",function(){return U});var n=a("kLJo"),r=a("toaU"),o=a("tYiI"),i=a("J9z2"),s=a("+1yX"),c=a("UUlk"),d=a("FHcd"),l=a("k2C/"),u=a("uFGw"),_=/^[\d]{10}\.[\d]{6}$/;function m(e){return _.test(e)}var b=/^(C|G|D)[A-Z0-9]{8,}-[\d]{10}\.[\d]{6}$/;var p=a("NFsq"),h=a("hgYl");var f=a("btH0"),g=a("+Sjy"),v=a("Er5K"),O=a("wCpp"),M="ROUTE_ENTITY",S="ROUTE_FLEX_THREAD",I="ROUTE_FLEX_DETAILS",E="ROUTE_FLEX_ACTIVITY_PANE",y="ROUTE_FLEX_SAVED",T="ROUTE_FLEX_APPS",w="ROUTE_FLEX_FILES",j="ROUTE_FLEX_FILES_PROTOTYPE",A="ROUTE_FLEX_FILE",F="ROUTE_FLEX_USER_GROUPS",D="ROUTE_FLEX_USER_GROUP",k="ROUTE_FLEX_WHATS_NEW",C="ROUTE_FLEX_SHORTCUTS",R="ROUTE_FLEX_USER_PROFILE",N="ROUTE_FLEX_USER_CALENDAR",Y="ROUTE_FLEX_CHANNEL_INSPECTOR",P="ROUTE_FLEX_HUDDLE",L={"stars-page":"saved-page"},x={entityId:e=>Object(o.a)(e)||Object(i.a)(e)||Object(s.a)(e)||Object(c.a)(e)||Object(d.a)(e)||Object(l.a)(e)||Object(u.a)(e)||Object(f.a)(e)||Object(g.h)(e)||(e=>Object.keys(L).includes(e))(e),appOrServiceId:e=>Object(i.a)(e)||Object(o.a)(e),timestamp:m,threadId:function(e){return b.test(e)},replyTs:m,sectionId:function(e){return Object(p.a)(h.a,e)||""===e},tabId:e=>Object(v.c)(e),draftId:O.c,channelId:s.a,searchQuery:e=>/^search-.+/.test(e)},B={[r.a]:{paths:["/"]},[M]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:draftId","/:entityId/:searchQuery"]},[S]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId"]},ROUTE_FLEX_CHANNEL_INFO:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:searchQuery/channel_info"]},[Y]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[I]:{paths:["/:entityId/details","/:entityId/:timestamp/details","/:entityId/:tabId/details","/:entityId/details/:sectionId","/:entityId/:timestamp/details/:sectionId","/:entityId/:tabId/details/:sectionId","/:entityId/:draftId/details/:sectionId","/:entityId/:draftId/details","/:entityId/:searchQuery/details/:sectionId","/:entityId/:searchQuery/details"]},[E]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:searchQuery/activity"]},ROUTE_FLEX_STARRED:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:searchQuery/starred_items"]},[y]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:searchQuery/saved"]},[T]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:searchQuery/appspane"]},[w]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:searchQuery/files"]},[j]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:searchQuery/filespane"]},[A]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:searchQuery/files/:fileId"]},ROUTE_FLEX_FILE_TYPE:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:searchQuery/files/type"]},ROUTE_FLEX_FILE_USER:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:searchQuery/files/:memberId"]},[F]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:searchQuery/user_groups"]},[D]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId"]},[k]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:searchQuery/whats_new"]},[C]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:searchQuery/shortcuts"]},[R]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId"]},[N]:{paths:["/:entityId/calendar","/:entityId/:timestamp/calendar","/:entityId/:tabId/calendar","/:entityId/:draftId/calendar","/:entityId/:searchQuery/calendar"]},[P]:{paths:["/:entityId/huddle","/:entityId/:timestamp/huddle","/:entityId/:tabId/huddle","/:entityId/:draftId/huddle"]}};function U(){Object(n.d)(x,B)}},sDmt:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o});var n="recentlyUsedTeamIds",r="mostRecentlyUsedDate",o=10},tYiI:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=/^@?A[A-Z0-9]{8,}$/;function r(e){return n.test(e)}},tqVr:function(e,t,a){"use strict";var n=a("HBMi"),r=a("hOHP"),o=a("WhMD"),i=a("SxvU");t.a=function(e){var{shortenMonth:t=!1,excludeYear:a=!1,uncapitalizedRelativeDay:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(n.a)(e,{returnMoment:!0});if(!c.isValid())throw new Error("Couldn't create a valid date object in toCalendarDateOrNameDay()");var d=Object(r.a)(c,{uncapitalized:s}),l=a||Object(i.a)(c);return d||Object(o.a)(c,{shortenMonth:t,excludeYear:l})}},txCA:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});var n=a("quKg"),r=e=>"enabled"===Object(n.c)(e,"calendar_create_event_shortcut"),o=e=>"treatment"===Object(n.c)(e,"calendar_sc")},uVZW:function(e,t,a){"use strict";a.d(t,"l",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"h",function(){return o}),a.d(t,"i",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"s",function(){return c}),a.d(t,"t",function(){return d}),a.d(t,"v",function(){return l}),a.d(t,"w",function(){return u}),a.d(t,"p",function(){return _}),a.d(t,"r",function(){return m}),a.d(t,"u",function(){return b}),a.d(t,"d",function(){return p}),a.d(t,"n",function(){return h}),a.d(t,"o",function(){return f}),a.d(t,"e",function(){return g}),a.d(t,"m",function(){return v}),a.d(t,"g",function(){return O}),a.d(t,"b",function(){return M}),a.d(t,"k",function(){return S}),a.d(t,"q",function(){return I}),a.d(t,"j",function(){return E}),a.d(t,"c",function(){return y});var n={CHECKOUT_CALCULATOR_FOOTER:"checkout_calculator_footer",CHECKOUT_HEADER:"checkout_header",SIDEBAR_FOOTER:"sidebar_footer",TEAM_MENU_VISUAL_PROMO:"team_menu_visual_promo",TEAM_MENU_TEXT_PROMO:"team_menu_text_promo",WORKSPACE_MENU_PRIMARY_PLAN_INFO:"workspace_menu_primary_plan_info",WORKSPACE_MENU_SECONDARY_PLAN_INFO:"workspace_menu_secondary_plan_info",MESSAGE_PANE:"message_pane",DUNNING_NOTICE:"dunning_notice",IN_PRODUCT_COACHMARK:"in_product_coachmark",LAUNCH_MODAL:"launch_modal",WELCOME_PLACE:"welcome_place",MESSAGE_ACTIONS:"message_actions",DM_CALL_BLOCK:"dm_call_block",DM_VIEW_HEADER_CALL_TIP:"dm_view_header_call_tip",MESSAGE_ACTIONS_LABELS:"message_actions_labels",EMAIL_FILE_MESSAGE:"email_file_message",EMOJI_DRAWER:"emoji_drawer",CLIENT_FOOTER:"client_footer"},r={DUNNING_DAY_1_BANNER:"dunning_day_1_banner",DUNNING_DAY_3_BANNER:"dunning_day_3_banner",DUNNING_DAY_7_OWNER_CARDHOLDER_BANNER:"dunning_day_7_owner_cardholder_banner",DUNNING_DAY_7_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_7_admin_billing_contacts_banner",DUNNING_DAY_14_OWNER_CARDHOLDER_BANNER:"dunning_day_14_owner_cardholder_banner",DUNNING_DAY_14_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_14_admin_billing_contacts_banner",DUNNING_DAY_21_BILLING_STAKEHOLDERS_BANNER:"dunning_day_21_billing_stakeholders_banner",DUNNING_DAY_21_ALL_USERS_BANNER:"dunning_day_21_all_users_banner"},o={REACTJI_AWARENESS_COACHMARK:"reactji_awareness_coachmark",MENTION_AWARENESS_INLINE_TIP:"mention_awareness_inline_tip",CUSTOM_STATUS_AWARENESS:"custom_status_awareness_coachmark"},i={TRIAL_LAST_DAY_MODAL:"trial_last_day_modal",TRIAL_DOWNGRADE_SURVEY:"trial_downgrade_survey",TRIAL_EXPIRATION_MODAL:"trial_expiration_modal",TRIAL_EXPIRATION_DISCOUNT_MODAL:"trial_expiration_discount_modal",TRIAL_AWARENESS_MODAL:"trial_awareness_modal"},s={PARTNER_PROMO:"partner_promo_checkout_calculator_footer"},c={PLAN_INFO:"plan_info",TRIAL_INFO:"trial_info",DISCOUNT_PROMO:"discount_promo"},d={LIMIT_METER:"limit_meter"},l={PLAN_INFO:"plan_info",TRIAL_INFO:"trial_info",LIMIT_METER:"limit_meter"},u={DISCOUNT_PROMO:"discount_promo"},_={JAPAN_SEND_BUTTON:"i18n_japan_beta_send_btn_banner",TENURED_TEAM_DISCOUNT_ONE_WEEK_LEFT:"one_week_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_ONE_DAY_LEFT:"one_day_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_AWARENESS:"tenured_discount_awareness_banner",EDUCATION_TEAM_DISCOUNT:"education_discount_promo_banner",LOCAL_DISCOUNT_AWARENESS:"local_discount_awareness_banner",ESC_TRIAL:"shared_channel_trial_banner",ESC_TRIAL_TWO_WEEKS_LEFT:"two_weeks_left_esc_trial_banner",ESC_TRIAL_ONE_WEEK_LEFT:"one_week_left_esc_trial_banner",ESC_TRIAL_THREE_DAYS_LEFT:"three_days_left_esc_trial_banner",TRIAL_SEVEN_DAYS_LEFT:"seven_days_left_trial_banner",TRIAL_THREE_DAYS_LEFT:"three_days_left_trial_banner",FILE_LIMIT_APPROACHING:"approaching_file_limit_banner",MESSAGE_LIMIT_ACTIVATION:"activation_msg_limit_banner",MESSAGE_LIMIT_APPROACHING:"approaching_msg_limit_banner",MESSAGE_LIMIT_JUST_REACHED:"just_reached_msg_limit_banner",MESSAGE_LIMIT_THIRTY_DAYS_AFTER:"thirty_days_after_msg_limit_banner",TEAM_CREATION_ACCOUNT_SETUP:"team_creation_account_setup_banner"},m={SIDEBAR_BENEFITS_TAB:"sidebar_benefits_tab",SIDEBAR_UPGRADE_BUTTON:"sidebar_upgrade_button",SIDEBAR_NOTIFICATION_SETTINGS_PROMPT:"sidebar_notification_settings_prompt",SIDEBAR_DOWNLOAD_APP_PROMPT:"sidebar_download_app_prompt"},b={REMOTE_WORK_BANNER:"remote_work_banner"},p={GROUP_CALLS_DISCOVERY_PROMPT:"group_calls_discovery_prompt"},h={QUICK_REACTIONS:"quick_reactions"},f={CHANNEL_EMAIL_EDUCATION:"channel_email_education"},g={ONE_ON_ONE_CALLS_DISCOVERY_TIP:"one_on_one_calls_discovery_tip"},v={SIMPLIFIED_MESSAGE_ACTIONS_LABELS:"simplified_message_actions_labels"},O={PRODUCTIVITY_REACJI:"productivity_reacji"},M={TRIAL_AWARENESS_FOOTER:"trial_awareness_footer"},S={IMPRESSION:"impression",DISMISS:"dismiss",CLICK:"click"},I={BENEFITS_PAGE:"benefits_page"},E="MEGAPHONE",y={discountPct:"discountPercent",noOfDaysLeft:"numDaysLeft",payDateNext:"expirationDate",planExpirationTs:"expirationTs",subtype:"promoSubType",renewalLevel:"planRenewalLevel"}},v3s2:function(e,t,a){"use strict";function n(){return!0}a.d(t,"a",function(){return n})},v5z3:function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return d}),a.d(t,"c",function(){return s});var n,r,o,i=a("yhG8");!function(e){e.TeamName="TeamName",e.Channels="Channels",e.Invites="Invites",e.StartFirstConversation="StartFirstConversation"}(n||(n={})),function(e){e.TeamName="setup-team-name",e.Channels="setup-channels",e.Invites="setup-invites",e.StartFirstConversation="start-first-conversation"}(r||(r={})),function(e){e.TeamName="Psetup-team-name",e.Channels="Psetup-channels",e.Invites="Psetup-invites",e.StartFirstConversation="Pstart-first-conversation"}(o||(o={}));var s,c=[n.TeamName,n.Channels,n.Invites],d=[n.TeamName,n.Invites,n.StartFirstConversation];!function(e){e[e.Project=i.e.PROJECT]="Project",e[e.Team=i.e.TEAM]="Team",e[e.Announcements=i.e.ANNOUNCEMENTS]="Announcements",e[e.Brainstorming=i.e.BRAINSTORMING]="Brainstorming",e[e.Sync=i.e.SYNC]="Sync",e[e.Other=i.e.OTHER]="Other"}(s||(s={}));s.Project,s.Team,s.Brainstorming,s.Announcements,s.Sync,s.Project,s.Announcements,s.Team,s.Brainstorming,s.Sync,s.Other},vg2h:function(e,t,a){"use strict";var n=a("pxl7");t.a=function(e,t){return Object(n.a)(e,t,{units:"minutes",useFractionalUnits:!0})}},wCpp:function(e,t,a){"use strict";function n(e){if(e)return"draft-"+e}function r(e){if(e){var[,t]=e.match(/^draft-(.+)/)||[];return t}}function o(e){return/^draft-.+/.test(e)}a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o})},wHps:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("4v0o"),r={[n.a.allUnreads]:"unreads",[n.a.allThreads]:"threads",[n.a.search]:"search"}},wNji:function(e,t,a){"use strict";var n=a("peh1"),r=a("brL+");t.a=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var o={};return function(e){var a=Object(r.b)(e)||"default";if(!o[a]){var i=Object(n.createSelector)(...t);o[a]=i}for(var s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];return o[a](e,...c)}}},x2Wu:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a("Gogr");function r(){var e=Object(n.g)(),t=Object(n.f)();return Object.assign({},t,{},e)}},yhG8:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"e",function(){return i}),a.d(t,"c",function(){return s});var n="CHANNELS-ACTIONS",r="Upsert a channel, group, mpim, or im",o={ADD_CHANNEL:"Add a channel, overwriting anything previously stored with the same id",ARCHIVE_CHANNEL:"Archive channel",BULK_ADD_CHANNELS:"Bulk add channels, overwriting anything previously stored with the same id",BULK_UPDATE_CHANNELS:"Update a few keys for multiple channels",CLEAR_ALL_SHOW_IN_LIST_EVEN_THOUGH_UNREADS_FLAGS:"Legacy hack: set the _show_in_list_even_though_no_unreads for all channels to be false",CONVERT_TO_PRIVATE:"Convert a channel to private",CONVERT_TO_SHARED:"Convert a channel to an enterprise shared channel (cross-workspace or org-wide)",CHANNEL_UPDATED:"Channel was updated (privacy, permissions or externally shared status changed)",ORG_ACCESS:"Update the teams this channel is shared with on your organization or update to cross-workspace or org-wide",LEAVE_CHANNEL:"Leave channel",RENAME_CHANNEL:"Rename a channel",SET_PURPOSE:"Set a channel purpose",SET_STAR:"Set starred state for a channel",SET_TOPIC:"Set a channel topic",UNARCHIVE_CHANNEL:"Unarchive a channel",UPDATE_ONE_KEY:"Update one key for a channel by id",UPDATE_WORKSPACE_ACCESS:"Update workspace access for a channel",UPSERT_CHANNEL:r,CHILD_CHANNEL_CREATED:"Archive old private channel and replace it with new private channel with same name"},i={ANNOUNCEMENTS:"announcements",BRAINSTORMING:"brainstorming",DM:"dm",MPDM:"mpdm",OTHER:"other",PROJECT:"project",SYNC:"sync",TEAM:"team",WELCOME:"welcome",SELF_DM:"self_dm",RANDOM:"random"},s={GENERAL:"general",GENERIC:"generic"}}},[["d/52","gantry-manifest","gantry-vendors","gantry-vendors-client","gantry-shared","client-boot-styles"]]]);